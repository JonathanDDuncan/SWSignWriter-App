(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{HCc4:function(t,e,n){"use strict";n.r(e),n.d(e,"SubscribeAndroidPageModule",function(){return v});var i=n("sYmb"),o=n("ofXK"),s=n("3Pt+"),r=n("tyNb"),c=n("TEn/"),b=n("HaE+"),a=n("qkCY"),l=n("VUXs"),u=n("ivw2"),p=n("HtUY"),d=n("KH6c"),h=n("FUe0"),f=n("fXoL"),m=n("tk/3");function w(t,e){if(1&t){const t=f.Ob();f.Nb(0,"ion-button",7),f.Vb("click",function(){f.ic(t);const e=f.Xb().$implicit;return f.Xb().purchase(e)}),f.pc(1),f.Yb(2,"translate"),f.Mb()}2&t&&(f.Ab(1),f.rc("",f.Zb(2,1,"Subscribe Now")," "))}function g(t,e){if(1&t&&(f.Nb(0,"p"),f.pc(1,"You Own This Subscription"),f.Mb(),f.Nb(2,"p"),f.pc(3),f.Yb(4,"translate"),f.Mb()),2&t){const t=f.Xb().$implicit;f.Ab(3),f.sc("",f.Zb(4,2,"Your subscription is valid until and will renew on")," ",t.expiryDate," ")}}function y(t,e){if(1&t&&(f.Nb(0,"div",4),f.Nb(1,"p"),f.pc(2),f.Mb(),f.Nb(3,"p"),f.pc(4),f.Mb(),f.Nb(5,"p"),f.pc(6),f.Mb(),f.nc(7,w,3,3,"ion-button",5),f.nc(8,g,5,4,"ng-template",null,6,f.oc),f.Lb(10,"hr"),f.Mb()),2&t){const t=e.$implicit,n=f.hc(9);f.Ab(2),f.rc(" ",t.title,""),f.Ab(2),f.qc(t.description),f.Ab(2),f.sc("",t.price," ",t.currency,""),f.Ab(1),f.cc("ngIf",!t.owned)("ngIfElse",n)}}const N=[{path:"",component:(()=>{class t{constructor(t,e,n,i,o,s,r,c,b,a,l){this.http=t,this.storage=e,this.alertController=n,this.translateService=i,this.router=o,this.sentry=s,this.platform=r,this.store=c,this.ref=b,this.subscriptionServiceNG=a,this.subscriptionServiceAndroid=l,this.buttonDisabled=null,this.products=[],this.serverUrl=window.location&&window.location.hostname&&window.location.hostname.includes("localhost")?"https://localhost:44309/":"https://swsignwriterapi.azurewebsites.net/",this.subsService=h.a.isNativePlatform()?l:a,this.store.verbosity=this.store.DEBUG,this.products=this.subsService.getProducts()}ngOnInit(){var t=this;return Object(b.a)(function*(){if(t.profile=yield t.storage.GetCurrentUserProfile(),console.log(t.profile),t.profile&&null!==t.profile){const e=yield t.storage.GetSubscription(t.profile.email);if(console.log(e),e){t.SetButtonDisabled(e.endDate);const n=new Date(e.endDate),i=new Intl.DateTimeFormat("en",{year:"numeric"}).format(n),o=new Intl.DateTimeFormat("en",{month:"short"}).format(n),s=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(n);t.subscriptionEndDate=`${s}-${o}-${i}`,console.log(t.subscriptionEndDate,"subscription endDate"),t.autoRenewal=!e.cancelatperiodend}}else t.router.navigate(["/login"])})()}restore(){this.subsService.restore()}showAlert(){var t=this;return Object(b.a)(function*(){const e=yield t.alertController.create({header:"Alert",subHeader:"SubTitle",message:"This is an alert message",buttons:["OK"]});yield e.present();const n=yield e.onDidDismiss();console.log(n)})()}SetButtonDisabled(t){const e=new Date(t)>=new Date;this.buttonDisabled=e}purchase(t){var e=this;return Object(b.a)(function*(){e.subsService.purchase(t.id)})()}}return t.\u0275fac=function(e){return new(e||t)(f.Kb(m.a),f.Kb(a.a),f.Kb(c.a),f.Kb(i.d),f.Kb(r.g),f.Kb(u.a),f.Kb(c.J),f.Kb(l.a),f.Kb(f.i),f.Kb(p.a),f.Kb(d.a))},t.\u0275cmp=f.Eb({type:t,selectors:[["app-subscribeAndroid"]],decls:18,vars:4,consts:[["slot","start"],["slot","icon-only","name","menu"],["detail","false",4,"ngFor","ngForOf"],["expand","full",3,"click"],["detail","false"],[3,"click",4,"ngIf","ngIfElse"],["owned",""],[3,"click"]],template:function(t,e){1&t&&(f.Nb(0,"ion-header"),f.Nb(1,"ion-toolbar"),f.Nb(2,"ion-buttons",0),f.Nb(3,"ion-menu-toggle"),f.Nb(4,"ion-button"),f.Lb(5,"ion-icon",1),f.Mb(),f.Mb(),f.Mb(),f.Nb(6,"ion-title"),f.pc(7),f.Yb(8,"translate"),f.Mb(),f.Mb(),f.Mb(),f.Nb(9,"ion-content"),f.Nb(10,"ion-row"),f.Nb(11,"ion-col"),f.nc(12,y,11,6,"div",2),f.Mb(),f.Mb(),f.Nb(13,"ion-button",3),f.Vb("click",function(){return e.restore()}),f.pc(14,"Restore"),f.Mb(),f.pc(15,"' "),f.Nb(16,"P"),f.pc(17,"To cancel any subscriptions you may go to Play Store to the Payments And Subscriptions section"),f.Mb(),f.Mb()),2&t&&(f.Ab(7),f.qc(f.Zb(8,2,"Subscribe")),f.Ab(5),f.cc("ngForOf",e.products))},directives:[c.l,c.E,c.e,c.t,c.d,c.m,c.D,c.g,c.y,c.f,o.j,o.k],pipes:[i.c],styles:["ion-col[_ngcontent-%COMP%]{text-align:center}"]}),t})()}];let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=f.Ib({type:t}),t.\u0275inj=f.Hb({imports:[[o.c,s.a,c.F,i.b,r.j.forChild(N)]]}),t})()}}]);
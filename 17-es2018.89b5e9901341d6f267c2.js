(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"B4v+":function(t,e,n){"use strict";n.r(e),n.d(e,"ViewPageModule",function(){return w});var i=n("ofXK"),o=n("3Pt+"),r=n("tyNb"),s=n("TEn/"),a=n("HaE+"),c=n("fXoL");let h=(()=>{class t{constructor(){}utils(){return{getUserAgent:function(){return navigator.userAgent},Android:function(){return/Android/i.test(this.getUserAgent())&&!this.Windows()},BlackBerry:function(){return/BlackBerry|BB10|PlayBook/i.test(this.getUserAgent())},iPhone:function(){return/iPhone/i.test(this.getUserAgent())&&!this.iPad()&&!this.Windows()},iPod:function(){return/iPod/i.test(this.getUserAgent())},iPad:function(){return/iPad/i.test(this.getUserAgent())},iOS:function(){return this.iPad()||this.iPod()||this.iPhone()},Opera:function(){return/Opera Mini/i.test(this.getUserAgent())},Windows:function(){return/Windows Phone|IEMobile|WPDesktop/i.test(this.getUserAgent())},KindleFire:function(){return/Kindle Fire|Silk|KFAPWA|KFSOWI|KFJWA|KFJWI|KFAPWI|KFAPWI|KFOT|KFTT|KFTHWI|KFTHWA|KFASWI|KFTBWI|KFMEWI|KFFOWI|KFSAWA|KFSAWI|KFARWI/i.test(this.getUserAgent())},any:function(){return this.Android()||this.BlackBerry()||this.iOS()||this.Opera()||this.Windows()}}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var d=n("FTYq"),l=n("8AEQ"),g=n("HtUY"),u=n("2/4T"),b=n("HKhi"),m=n("sYmb"),p=n("ZJwn");let f=(()=>{class t{constructor(t,e,n,i,o,s){this.modalController=t,this.documentService=e,this.subscriptionService=n,this.translate=i,this.btUtil=o,this.router=s,this.imageheight=900,this.preloadFonts=ssw.paragraph("M547x518S2ff00482x483S11911518x488S26600531x451"),this.router.events.subscribe(t=>{if(t instanceof r.d){const t=this.documentService.getFSW();this.document=ssw.paragraph(t),this.imageheight=200}})}ngOnInit(){this.subscriptionService.CanUse()}ionViewWillEnter(){const t=this.documentService.getFSW();this.document=ssw.paragraph(t)}share1(){const t=this.documentService.getFSW();this.document=ssw.paragraph(t),requestAnimationFrame(()=>this.sharecontinuation1(t))}share(){var t=this;return Object(a.a)(function*(){const e=t.documentService.getFSW(),n=t.btUtil.utils();e&&null!==e&&(n.Android()?yield t.ShareAndroid(e):n.iOS()||n.iPad()||n.iPhone()||n.iPod()?yield t.ShareIOS(e):yield t.ShareDesktop(e))})()}ShareIOS(t){var e=this;return Object(a.a)(function*(){const n=getSignTextCanvas(t,20,e.imageheight);e.AddLink(n);const i=yield e.modalController.create({component:b.a,componentProps:{canvas:n,imagebase64:n.toDataURL("image/png")}});yield i.present(),yield i.onDidDismiss()})()}AddLink(t){const e=this.tempCanvas(t),n=this.reSizeCanvas(t,e);n.font="30px Arial",n.fillStyle="blue",n.textAlign="center",n.fillText("SWSW SwSignWriter.jonathanduncan.pro",t.width/2,t.height-10)}reSizeCanvas(t,e){t.height+=35;const n=t.getContext("2d");return n.fillStyle="white",n.fillRect(0,0,t.width,t.height),n.drawImage(e,0,0),n}tempCanvas(t){const e=document.createElement("canvas"),n=e.getContext("2d");return e.width=t.width,e.height=t.height,n.fillStyle="white",n.fillRect(0,0,t.width,t.height),n.drawImage(t,0,0),e}ShareAndroid(t){var e=this;return Object(a.a)(function*(){const n=getSignTextCanvas(t,20,e.imageheight);e.AddLink(n);const i=yield e.modalController.create({component:l.a,componentProps:{canvas:n,imagebase64:n.toDataURL("image/png")}});yield i.present(),yield i.onDidDismiss()})()}ShareDesktop(t){var e=this;return Object(a.a)(function*(){const n=getSignTextCanvas(t,20,e.imageheight);e.AddLink(n);const i=yield e.modalController.create({component:d.a,componentProps:{canvas:n,imagebase64:n.toDataURL("image/png")}});yield i.present(),yield i.onDidDismiss()})()}heightChange(t){this.signtextHeight=t.detail.value}edit(){return this.router.navigateByUrl("/edit")}sharecontinuation1(t){return Object(a.a)(function*(){})()}isCordova(){return!!window.cordova}}return t.\u0275fac=function(e){return new(e||t)(c.Kb(s.I),c.Kb(u.a),c.Kb(g.a),c.Kb(m.d),c.Kb(h),c.Kb(r.g))},t.\u0275cmp=c.Eb({type:t,selectors:[["app-view"]],decls:31,vars:18,consts:[["slot","start"],["justify-content-center",""],["min","50","max","900","step","10","pin","true",3,"ngModel","ngModelChange","ionChange"],["size","small","slot","start","name","resize"],["slot","end","name","resize"],["padding",""],["id","document",1,"document"],[1,"signtext"],[3,"innerHTML"],["horizontal","end","slot","fixed","vertical","bottom"],[3,"click"],["name","share",2,"zoom","2"],["id","canvas"],[1,"preloadFonts",3,"innerHTML"]],template:function(t,e){1&t&&(c.Nb(0,"ion-header"),c.Nb(1,"ion-toolbar"),c.Nb(2,"ion-buttons",0),c.Lb(3,"ion-menu-button"),c.Mb(),c.Nb(4,"ion-title"),c.pc(5),c.Yb(6,"translate"),c.Mb(),c.Nb(7,"ion-item"),c.Nb(8,"ion-grid"),c.Nb(9,"ion-row",1),c.Nb(10,"ion-label"),c.pc(11),c.Yb(12,"translate"),c.Mb(),c.Mb(),c.Nb(13,"ion-row"),c.Nb(14,"ion-range",2),c.Vb("ngModelChange",function(t){return e.imageheight=t})("ionChange",function(t){return e.heightChange(t)}),c.Lb(15,"ion-icon",3),c.Lb(16,"ion-icon",4),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Nb(17,"ion-content",5),c.Nb(18,"div",6),c.Nb(19,"div",7),c.Lb(20,"span",8),c.Yb(21,"safeHtml"),c.Mb(),c.Mb(),c.Nb(22,"ion-fab",9),c.Nb(23,"ion-label"),c.pc(24),c.Yb(25,"translate"),c.Mb(),c.Nb(26,"ion-fab-button",10),c.Vb("click",function(){return e.share()}),c.Lb(27,"ion-icon",11),c.Mb(),c.Mb(),c.Lb(28,"canvas",12),c.Lb(29,"span",13),c.Yb(30,"safeHtml"),c.Mb()),2&t&&(c.Ab(5),c.rc(" ",c.Zb(6,8,"Document")," "),c.Ab(6),c.qc(c.Zb(12,10,"Image height")),c.Ab(3),c.cc("ngModel",e.imageheight),c.Ab(5),c.mc("height",e.signtextHeight,"px"),c.Ab(1),c.cc("innerHTML",c.Zb(21,12,e.document),c.jc),c.Ab(4),c.qc(c.Zb(25,14,"Share")),c.Ab(5),c.cc("innerHTML",c.Zb(30,16,e.preloadFonts),c.jc))},directives:[s.l,s.E,s.e,s.s,s.D,s.n,s.k,s.y,s.o,s.w,s.M,o.d,o.e,s.m,s.g,s.h,s.i],pipes:[m.c,p.a],styles:[".document[_ngcontent-%COMP%]{width:100%;overflow:auto}.document[_ngcontent-%COMP%], .document[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:100%}.preloadFonts[_ngcontent-%COMP%]{width:0;height:0;display:inline-block;overflow:hidden}ion-range[_ngcontent-%COMP%]{padding-top:0}"]}),t})();var v=n("iTUp"),S=n("PCNd");const A=[{path:"",component:f}];let w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Ib({type:t}),t.\u0275inj=c.Hb({imports:[[i.c,o.a,s.F,r.j.forChild(A),v.a,S.a]]}),t})()}}]);
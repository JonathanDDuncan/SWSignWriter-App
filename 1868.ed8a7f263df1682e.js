"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1868],{1868:(O,c,s)=>{s.r(c),s.d(c,{ViewPageModule:()=>T});var p=s(6895),g=s(4719),h=s(9990),o=s(603),d=s(5861),f=s(8940),v=s(1482),A=s(1093),S=s(5362),e=s(4650),P=s(9331),m=s(7171);let w=(()=>{class r{constructor(){}utils(){return{getUserAgent:function(){return navigator.userAgent},Android:function(){return/Android/i.test(this.getUserAgent())&&!this.Windows()},BlackBerry:function(){return/BlackBerry|BB10|PlayBook/i.test(this.getUserAgent())},iPhone:function(){return/iPhone/i.test(this.getUserAgent())&&!this.iPad()&&!this.Windows()},iPod:function(){return/iPod/i.test(this.getUserAgent())},iPad:function(){return/iPad/i.test(this.getUserAgent())},iOS:function(){return this.iPad()||this.iPod()||this.iPhone()},Opera:function(){return/Opera Mini/i.test(this.getUserAgent())},Windows:function(){return/Windows Phone|IEMobile|WPDesktop/i.test(this.getUserAgent())},KindleFire:function(){return/Kindle Fire|Silk|KFAPWA|KFSOWI|KFJWA|KFJWI|KFAPWI|KFAPWI|KFOT|KFTT|KFTHWI|KFTHWA|KFASWI|KFTBWI|KFMEWI|KFFOWI|KFSAWA|KFSAWI|KFARWI/i.test(this.getUserAgent())},any:function(){return this.Android()||this.BlackBerry()||this.iOS()||this.Opera()||this.Windows()}}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var y=s(3263);let Z=(()=>{class r{constructor(t,n,i,a,x,U,M){this.modalController=t,this.documentService=n,this.translate=i,this.btUtil=a,this.router=x,this.platform=U,this.logService=M,this.imageheight=900,this.preloadFonts=ssw.paragraph("M547x518S2ff00482x483S11911518x488S26600531x451"),this.router.events.subscribe(u=>{if(u instanceof h.OD){const I=this.documentService.getFSW();this.document=ssw.paragraph(I),this.imageheight=200}})}ionViewWillEnter(){const t=this.documentService.getFSW();this.document=ssw.paragraph(t)}share1(){const t=this.documentService.getFSW();this.document=ssw.paragraph(t),requestAnimationFrame(()=>this.sharecontinuation1(t))}share(){var t=this;return(0,d.Z)(function*(){const n=t.documentService.getFSW();t.btUtil.utils(),n&&null!==n&&(yield t.logService.AddLog("User Shared SW"),t.platform.is("android")?yield t.ShareAndroid(n):t.platform.is("ios")||t.platform.is("ipad")||t.platform.is("iphone")?yield t.ShareIOS(n):yield t.ShareDesktop(n))})()}ShareIOS(t){var n=this;return(0,d.Z)(function*(){const i=getSignTextCanvas(t,20,n.imageheight);n.AddLink(i);const a=yield n.modalController.create({component:A.y,componentProps:{canvas:i,imagebase64:i.toDataURL("image/png")}});yield a.present(),yield a.onDidDismiss()})()}AddLink(t){const n=this.tempCanvas(t),i=this.reSizeCanvas(t,n);i.font="30px Arial",i.fillStyle="blue",i.textAlign="center",i.fillText("SWSW SwSignWriter.jonathanduncan.pro",t.width/2,t.height-10)}reSizeCanvas(t,n){t.height+=35;const i=t.getContext("2d");return i.fillStyle="white",i.fillRect(0,0,t.width,t.height),i.drawImage(n,0,0),i}tempCanvas(t){const n=document.createElement("canvas"),i=n.getContext("2d");return n.width=t.width,n.height=t.height,i.fillStyle="white",i.fillRect(0,0,t.width,t.height),i.drawImage(t,0,0),n}ShareAndroid(t){var n=this;return(0,d.Z)(function*(){const i=getSignTextCanvas(t,20,n.imageheight);n.AddLink(i);const a=yield n.modalController.create({component:v.W,componentProps:{canvas:i,imagebase64:i.toDataURL("image/png")}});yield a.present(),yield a.onDidDismiss()})()}ShareDesktop(t){var n=this;return(0,d.Z)(function*(){const i=getSignTextCanvas(t,20,n.imageheight);n.AddLink(i);const a=yield n.modalController.create({component:f.L,componentProps:{canvas:i,imagebase64:i.toDataURL("image/png")}});yield a.present(),yield a.onDidDismiss()})()}heightChange(t){this.signtextHeight=t.detail.value}edit(){return this.router.navigateByUrl("/edit")}sharecontinuation1(t){return(0,d.Z)(function*(){})()}isCordova(){return!!window.cordova}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(o.IN),e.Y36(P.Z),e.Y36(m.sK),e.Y36(w),e.Y36(h.F0),e.Y36(o.t4),e.Y36(S.$))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-view"]],decls:38,vars:18,consts:[["color","navy"],["slot","start"],["id","document",1,"document"],[1,"signtext"],[3,"innerHTML"],["id","canvas",1,"ion-hide"],[1,"preloadFonts","ion-hide",3,"innerHTML"],["horizontal","end","slot","fixed","vertical","bottom",1,"ion-text-center"],["color","green",1,"mb-10"],["name","create",2,"zoom","1.5",3,"click"],["color","green",3,"click"],["name","share",2,"zoom","1.5"],[1,"mt-10"],[1,"ion-justify-content-center"],["min","50","max","900","step","10","pin","true",3,"ngModel","ngModelChange","ionChange"],["size","small","slot","start","name","resize"],["slot","end","name","resize"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e._UZ(3,"ion-menu-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"ion-content")(8,"div",2)(9,"div",3),e._UZ(10,"span",4),e.ALo(11,"safeHtml"),e.qZA()(),e._UZ(12,"canvas",5)(13,"span",6),e.ALo(14,"safeHtml"),e.qZA(),e.TgZ(15,"ion-footer")(16,"div")(17,"ion-fab",7)(18,"ion-label"),e._uU(19,"Edit"),e.qZA(),e.TgZ(20,"ion-fab-button",8)(21,"ion-icon",9),e.NdJ("click",function(){return n.edit()}),e.qZA()(),e.TgZ(22,"ion-label"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"ion-fab-button",10),e.NdJ("click",function(){return n.share()}),e._UZ(26,"ion-icon",11),e.qZA()()(),e.TgZ(27,"ion-toolbar")(28,"ion-item",12)(29,"ion-grid")(30,"ion-row",13)(31,"ion-label"),e._uU(32),e.ALo(33,"translate"),e.qZA()(),e.TgZ(34,"ion-row")(35,"ion-range",14),e.NdJ("ngModelChange",function(a){return n.imageheight=a})("ionChange",function(a){return n.heightChange(a)}),e._UZ(36,"ion-icon",15)(37,"ion-icon",16),e.qZA()()()()()()),2&t&&(e.xp6(5),e.hij(" ",e.lcZ(6,8,"Document")," "),e.xp6(4),e.Udp("height",n.signtextHeight,"px"),e.xp6(1),e.Q6J("innerHTML",e.lcZ(11,10,n.document),e.oJD),e.xp6(3),e.Q6J("innerHTML",e.lcZ(14,12,n.preloadFonts),e.oJD),e.xp6(10),e.Oqu(e.lcZ(24,14,"Export")),e.xp6(9),e.Oqu(e.lcZ(33,16,"Image height")),e.xp6(3),e.Q6J("ngModel",n.imageheight))},dependencies:[g.JJ,g.On,o.Sm,o.W2,o.IJ,o.W4,o.fr,o.jY,o.Gu,o.gu,o.Ie,o.Q$,o.fG,o.I_,o.Nd,o.wd,o.sr,o.QI,y.z,m.X$],styles:[".document[_ngcontent-%COMP%]{width:100%;height:100%;overflow:auto}.document[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:100%}.preloadFonts[_ngcontent-%COMP%]{width:0px;height:0px;display:inline-block;overflow:hidden}ion-range[_ngcontent-%COMP%]{padding-top:0}.mb-10[_ngcontent-%COMP%]{margin-bottom:10px}.mt-10[_ngcontent-%COMP%]{margin-top:10px}.ion-hide[_ngcontent-%COMP%]{display:none}ion-fab[_ngcontent-%COMP%]{bottom:100px}"]}),r})();var C=s(5503),F=s(4466);const W=[{path:"",component:Z}];let T=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[p.ez,g.u5,o.Pc,h.Bz.forChild(W),C.D,F.m]}),r})()}}]);
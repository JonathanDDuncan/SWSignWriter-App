(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{"B4v+":function(t,e,n){"use strict";n.r(e),n.d(e,"ViewPageModule",function(){return v});var i=n("ofXK"),o=n("3Pt+"),a=n("tyNb"),s=n("TEn/"),r=n("fXoL");let c=(()=>{class t{constructor(){}utils(){return{getUserAgent:function(){return navigator.userAgent},Android:function(){return/Android/i.test(this.getUserAgent())&&!this.Windows()},BlackBerry:function(){return/BlackBerry|BB10|PlayBook/i.test(this.getUserAgent())},iPhone:function(){return/iPhone/i.test(this.getUserAgent())&&!this.iPad()&&!this.Windows()},iPod:function(){return/iPod/i.test(this.getUserAgent())},iPad:function(){return/iPad/i.test(this.getUserAgent())},iOS:function(){return this.iPad()||this.iPod()||this.iPhone()},Opera:function(){return/Opera Mini/i.test(this.getUserAgent())},Windows:function(){return/Windows Phone|IEMobile|WPDesktop/i.test(this.getUserAgent())},KindleFire:function(){return/Kindle Fire|Silk|KFAPWA|KFSOWI|KFJWA|KFJWI|KFAPWI|KFAPWI|KFOT|KFTT|KFTHWI|KFTHWA|KFASWI|KFTBWI|KFMEWI|KFFOWI|KFSAWA|KFSAWI|KFARWI/i.test(this.getUserAgent())},any:function(){return this.Android()||this.BlackBerry()||this.iOS()||this.Opera()||this.Windows()}}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=n("FTYq"),d=n("8AEQ"),b=n("2/4T"),g=n("HKhi"),l=n("iXKo"),u=n("sYmb"),m=n("ZJwn");let p=(()=>{class t{constructor(t,e,n,i,o,s,r){this.modalController=t,this.documentService=e,this.translate=n,this.btUtil=i,this.router=o,this.platform=s,this.logService=r,this.imageheight=900,this.preloadFonts=ssw.paragraph("M547x518S2ff00482x483S11911518x488S26600531x451"),this.router.events.subscribe(t=>{if(t instanceof a.d){const t=this.documentService.getFSW();this.document=ssw.paragraph(t),this.imageheight=200}})}ionViewWillEnter(){const t=this.documentService.getFSW();this.document=ssw.paragraph(t)}share1(){const t=this.documentService.getFSW();this.document=ssw.paragraph(t),requestAnimationFrame(()=>this.sharecontinuation1(t))}async share(){const t=this.documentService.getFSW();this.btUtil.utils(),t&&null!==t&&(await this.logService.AddLog("User Shared SW"),this.platform.is("android")?await this.ShareAndroid(t):this.platform.is("ios")||this.platform.is("ipad")||this.platform.is("iphone")?await this.ShareIOS(t):await this.ShareDesktop(t))}async ShareIOS(t){const e=getSignTextCanvas(t,20,this.imageheight);this.AddLink(e);const n=await this.modalController.create({component:g.a,componentProps:{canvas:e,imagebase64:e.toDataURL("image/png")}});await n.present(),await n.onDidDismiss()}AddLink(t){const e=this.tempCanvas(t),n=this.reSizeCanvas(t,e);n.font="30px Arial",n.fillStyle="blue",n.textAlign="center",n.fillText("SWSW SwSignWriter.jonathanduncan.pro",t.width/2,t.height-10)}reSizeCanvas(t,e){t.height+=35;const n=t.getContext("2d");return n.fillStyle="white",n.fillRect(0,0,t.width,t.height),n.drawImage(e,0,0),n}tempCanvas(t){const e=document.createElement("canvas"),n=e.getContext("2d");return e.width=t.width,e.height=t.height,n.fillStyle="white",n.fillRect(0,0,t.width,t.height),n.drawImage(t,0,0),e}async ShareAndroid(t){const e=getSignTextCanvas(t,20,this.imageheight);this.AddLink(e);const n=await this.modalController.create({component:d.a,componentProps:{canvas:e,imagebase64:e.toDataURL("image/png")}});await n.present(),await n.onDidDismiss()}async ShareDesktop(t){const e=getSignTextCanvas(t,20,this.imageheight);this.AddLink(e);const n=await this.modalController.create({component:h.a,componentProps:{canvas:e,imagebase64:e.toDataURL("image/png")}});await n.present(),await n.onDidDismiss()}heightChange(t){this.signtextHeight=t.detail.value}edit(){return this.router.navigateByUrl("/edit")}async sharecontinuation1(t){}isCordova(){return!!window.cordova}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(s.K),r.Kb(b.a),r.Kb(u.d),r.Kb(c),r.Kb(a.g),r.Kb(s.L),r.Kb(l.a))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-view"]],decls:38,vars:18,consts:[["color","navy"],["slot","start"],["id","document",1,"document"],[1,"signtext"],[3,"innerHTML"],["id","canvas",1,"ion-hide"],[1,"preloadFonts","ion-hide",3,"innerHTML"],["horizontal","end","slot","fixed","vertical","bottom",1,"ion-text-center"],["color","green",1,"mb-10"],["name","create",2,"zoom","1.5",3,"click"],["color","green",3,"click"],["name","share",2,"zoom","1.5"],[1,"mt-10"],[1,"ion-justify-content-center"],["min","50","max","900","step","10","pin","true",3,"ngModel","ngModelChange","ionChange"],["size","small","slot","start","name","resize"],["slot","end","name","resize"]],template:function(t,e){1&t&&(r.Nb(0,"ion-header"),r.Nb(1,"ion-toolbar",0),r.Nb(2,"ion-buttons",1),r.Lb(3,"ion-menu-button"),r.Mb(),r.Nb(4,"ion-title"),r.pc(5),r.Yb(6,"translate"),r.Mb(),r.Mb(),r.Mb(),r.Nb(7,"ion-content"),r.Nb(8,"div",2),r.Nb(9,"div",3),r.Lb(10,"span",4),r.Yb(11,"safeHtml"),r.Mb(),r.Mb(),r.Lb(12,"canvas",5),r.Lb(13,"span",6),r.Yb(14,"safeHtml"),r.Mb(),r.Nb(15,"ion-footer"),r.Nb(16,"div"),r.Nb(17,"ion-fab",7),r.Nb(18,"ion-label"),r.pc(19,"Edit"),r.Mb(),r.Nb(20,"ion-fab-button",8),r.Nb(21,"ion-icon",9),r.Vb("click",function(){return e.edit()}),r.Mb(),r.Mb(),r.Nb(22,"ion-label"),r.pc(23),r.Yb(24,"translate"),r.Mb(),r.Nb(25,"ion-fab-button",10),r.Vb("click",function(){return e.share()}),r.Lb(26,"ion-icon",11),r.Mb(),r.Mb(),r.Mb(),r.Nb(27,"ion-toolbar"),r.Nb(28,"ion-item",12),r.Nb(29,"ion-grid"),r.Nb(30,"ion-row",13),r.Nb(31,"ion-label"),r.pc(32),r.Yb(33,"translate"),r.Mb(),r.Mb(),r.Nb(34,"ion-row"),r.Nb(35,"ion-range",14),r.Vb("ngModelChange",function(t){return e.imageheight=t})("ionChange",function(t){return e.heightChange(t)}),r.Lb(36,"ion-icon",15),r.Lb(37,"ion-icon",16),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.Ab(5),r.rc(" ",r.Zb(6,8,"Document")," "),r.Ab(4),r.mc("height",e.signtextHeight,"px"),r.Ab(1),r.cc("innerHTML",r.Zb(11,10,e.document),r.jc),r.Ab(3),r.cc("innerHTML",r.Zb(14,12,e.preloadFonts),r.jc),r.Ab(10),r.qc(r.Zb(24,14,"Export")),r.Ab(9),r.qc(r.Zb(33,16,"Image height")),r.Ab(3),r.cc("ngModel",e.imageheight))},directives:[s.m,s.G,s.f,s.u,s.F,s.h,s.k,s.i,s.q,s.j,s.n,s.p,s.l,s.A,s.y,s.O,o.e,o.f],pipes:[u.c,m.a],styles:[".document[_ngcontent-%COMP%]{width:100%;overflow:auto}.document[_ngcontent-%COMP%], .document[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:100%}.preloadFonts[_ngcontent-%COMP%]{width:0;height:0;display:inline-block;overflow:hidden}ion-range[_ngcontent-%COMP%]{padding-top:0}.mb-10[_ngcontent-%COMP%]{margin-bottom:10px}.mt-10[_ngcontent-%COMP%]{margin-top:10px}.ion-hide[_ngcontent-%COMP%]{display:none}ion-fab[_ngcontent-%COMP%]{bottom:100px}"]}),t})();var f=n("iTUp"),w=n("PCNd");const M=[{path:"",component:p}];let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({imports:[[i.b,o.b,s.H,a.i.forChild(M),f.a,w.a]]}),t})()}}]);
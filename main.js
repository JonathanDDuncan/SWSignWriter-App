(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./node_modules/@ionic/core/dist/esm-es5 lazy recursive ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm-es5 lazy ^\.\/.*\.entry\.js$ include: \.entry\.js$ exclude: \.system\.entry\.js$ namespace object ***!
  \*********************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./ion-action-sheet-controller_8.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-action-sheet-controller_8.entry.js",
		"common",
		13
	],
	"./ion-action-sheet-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-action-sheet-ios.entry.js",
		"common",
		14
	],
	"./ion-action-sheet-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-action-sheet-md.entry.js",
		"common",
		15
	],
	"./ion-alert-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-alert-ios.entry.js",
		"common",
		16
	],
	"./ion-alert-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-alert-md.entry.js",
		"common",
		17
	],
	"./ion-app_8-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-app_8-ios.entry.js",
		1,
		"common",
		18
	],
	"./ion-app_8-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-app_8-md.entry.js",
		1,
		"common",
		19
	],
	"./ion-avatar_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-avatar_3-ios.entry.js",
		"common",
		20
	],
	"./ion-avatar_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-avatar_3-md.entry.js",
		"common",
		21
	],
	"./ion-back-button-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-back-button-ios.entry.js",
		"common",
		22
	],
	"./ion-back-button-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-back-button-md.entry.js",
		"common",
		23
	],
	"./ion-backdrop-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-backdrop-ios.entry.js",
		0,
		"common",
		24
	],
	"./ion-backdrop-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-backdrop-md.entry.js",
		0,
		"common",
		25
	],
	"./ion-button_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-button_2-ios.entry.js",
		"common",
		26
	],
	"./ion-button_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-button_2-md.entry.js",
		"common",
		27
	],
	"./ion-card_5-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-card_5-ios.entry.js",
		"common",
		28
	],
	"./ion-card_5-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-card_5-md.entry.js",
		"common",
		29
	],
	"./ion-checkbox-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-checkbox-ios.entry.js",
		"common",
		30
	],
	"./ion-checkbox-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-checkbox-md.entry.js",
		"common",
		31
	],
	"./ion-chip-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-chip-ios.entry.js",
		"common",
		32
	],
	"./ion-chip-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-chip-md.entry.js",
		"common",
		33
	],
	"./ion-col_3.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-col_3.entry.js",
		34
	],
	"./ion-datetime_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-datetime_3-ios.entry.js",
		"common",
		35
	],
	"./ion-datetime_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-datetime_3-md.entry.js",
		"common",
		36
	],
	"./ion-fab_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-fab_3-ios.entry.js",
		"common",
		37
	],
	"./ion-fab_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-fab_3-md.entry.js",
		"common",
		38
	],
	"./ion-img.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-img.entry.js",
		39
	],
	"./ion-infinite-scroll_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-infinite-scroll_2-ios.entry.js",
		"common",
		40
	],
	"./ion-infinite-scroll_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-infinite-scroll_2-md.entry.js",
		"common",
		41
	],
	"./ion-input-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-input-ios.entry.js",
		"common",
		42
	],
	"./ion-input-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-input-md.entry.js",
		"common",
		43
	],
	"./ion-item-option_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-item-option_3-ios.entry.js",
		"common",
		44
	],
	"./ion-item-option_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-item-option_3-md.entry.js",
		"common",
		45
	],
	"./ion-item_8-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-item_8-ios.entry.js",
		"common",
		46
	],
	"./ion-item_8-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-item_8-md.entry.js",
		"common",
		47
	],
	"./ion-loading-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-loading-ios.entry.js",
		"common",
		48
	],
	"./ion-loading-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-loading-md.entry.js",
		"common",
		49
	],
	"./ion-menu_4-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-menu_4-ios.entry.js",
		0,
		"common",
		50
	],
	"./ion-menu_4-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-menu_4-md.entry.js",
		0,
		"common",
		51
	],
	"./ion-modal-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-modal-ios.entry.js",
		1,
		"common",
		52
	],
	"./ion-modal-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-modal-md.entry.js",
		1,
		"common",
		53
	],
	"./ion-nav_4.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-nav_4.entry.js",
		1,
		"common",
		54
	],
	"./ion-popover-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-popover-ios.entry.js",
		1,
		"common",
		55
	],
	"./ion-popover-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-popover-md.entry.js",
		1,
		"common",
		56
	],
	"./ion-progress-bar-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-progress-bar-ios.entry.js",
		"common",
		57
	],
	"./ion-progress-bar-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-progress-bar-md.entry.js",
		"common",
		58
	],
	"./ion-radio_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-radio_2-ios.entry.js",
		"common",
		59
	],
	"./ion-radio_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-radio_2-md.entry.js",
		"common",
		60
	],
	"./ion-range-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-range-ios.entry.js",
		"common",
		61
	],
	"./ion-range-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-range-md.entry.js",
		"common",
		62
	],
	"./ion-refresher_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-refresher_2-ios.entry.js",
		"common",
		63
	],
	"./ion-refresher_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-refresher_2-md.entry.js",
		"common",
		64
	],
	"./ion-reorder_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-reorder_2-ios.entry.js",
		"common",
		65
	],
	"./ion-reorder_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-reorder_2-md.entry.js",
		"common",
		66
	],
	"./ion-ripple-effect.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-ripple-effect.entry.js",
		67
	],
	"./ion-route_4.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-route_4.entry.js",
		"common",
		68
	],
	"./ion-searchbar-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-searchbar-ios.entry.js",
		"common",
		69
	],
	"./ion-searchbar-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-searchbar-md.entry.js",
		"common",
		70
	],
	"./ion-segment_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-segment_2-ios.entry.js",
		"common",
		71
	],
	"./ion-segment_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-segment_2-md.entry.js",
		"common",
		72
	],
	"./ion-select_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-select_3-ios.entry.js",
		"common",
		73
	],
	"./ion-select_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-select_3-md.entry.js",
		"common",
		74
	],
	"./ion-slide_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-slide_2-ios.entry.js",
		"common",
		75
	],
	"./ion-slide_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-slide_2-md.entry.js",
		"common",
		76
	],
	"./ion-spinner.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-spinner.entry.js",
		"common",
		77
	],
	"./ion-split-pane-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-split-pane-ios.entry.js",
		78
	],
	"./ion-split-pane-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-split-pane-md.entry.js",
		79
	],
	"./ion-tab-bar_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-tab-bar_2-ios.entry.js",
		"common",
		80
	],
	"./ion-tab-bar_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-tab-bar_2-md.entry.js",
		"common",
		81
	],
	"./ion-tab_2.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-tab_2.entry.js",
		"common",
		10
	],
	"./ion-text.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-text.entry.js",
		"common",
		82
	],
	"./ion-textarea-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-textarea-ios.entry.js",
		"common",
		83
	],
	"./ion-textarea-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-textarea-md.entry.js",
		"common",
		84
	],
	"./ion-toast-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-toast-ios.entry.js",
		"common",
		85
	],
	"./ion-toast-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-toast-md.entry.js",
		"common",
		86
	],
	"./ion-toggle-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-toggle-ios.entry.js",
		"common",
		87
	],
	"./ion-toggle-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-toggle-md.entry.js",
		"common",
		88
	],
	"./ion-virtual-scroll.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-virtual-scroll.entry.js",
		89
	]
};
function webpackAsyncContext(req) {
	var ids = map[req];
	if(!ids) {
		return Promise.resolve().then(function() {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}
	return Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {
		var id = ids[0];
		return __webpack_require__(id);
	});
}
webpackAsyncContext.keys = function webpackAsyncContextKeys() {
	return Object.keys(map);
};
webpackAsyncContext.id = "./node_modules/@ionic/core/dist/esm-es5 lazy recursive ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./about/about.module": [
		"./src/app/about/about.module.ts",
		"about-about-module"
	],
	"./choose-sign/choose-sign.module": [
		"./src/app/choose-sign/choose-sign.module.ts"
	],
	"./edit/edit.module": [
		"./src/app/edit/edit.module.ts",
		"edit-edit-module"
	],
	"./home/home.module": [
		"./src/app/home/home.module.ts",
		"home-home-module"
	],
	"./login/login.module": [
		"./src/app/login/login.module.ts",
		"login-login-module"
	],
	"./logout/logout.module": [
		"./src/app/logout/logout.module.ts",
		"logout-logout-module"
	],
	"./settings/settings.module": [
		"./src/app/settings/settings.module.ts",
		"settings-settings-module"
	],
	"./share-ios/share-ios.module": [
		"./src/app/share-ios/share-ios.module.ts"
	],
	"./stripecancel/stripecancel.module": [
		"./src/app/stripecancel/stripecancel.module.ts",
		"stripecancel-stripecancel-module"
	],
	"./stripesuccess/stripesuccess.module": [
		"./src/app/stripesuccess/stripesuccess.module.ts",
		"stripesuccess-stripesuccess-module"
	],
	"./subscribe/subscribe.module": [
		"./src/app/subscribe/subscribe.module.ts",
		"subscribe-subscribe-module"
	],
	"./view/view.module": [
		"./src/app/view/view.module.ts",
		"view-view-module"
	]
};
function webpackAsyncContext(req) {
	var ids = map[req];
	if(!ids) {
		return Promise.resolve().then(function() {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}
	return Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {
		var id = ids[0];
		return __webpack_require__(id);
	});
}
webpackAsyncContext.keys = function webpackAsyncContextKeys() {
	return Object.keys(map);
};
webpackAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "./src/app/app-routing.module.ts":
/*!***************************************!*\
  !*** ./src/app/app-routing.module.ts ***!
  \***************************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _authorization_guard__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./authorization.guard */ "./src/app/authorization.guard.ts");
/* harmony import */ var _profile_profile_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./profile/profile.component */ "./src/app/profile/profile.component.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _callback_callback_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./callback/callback.component */ "./src/app/callback/callback.component.ts");






var routes = [
    {
        path: '',
        loadChildren: './login/login.module#LoginPageModule',
        canActivateChild: [_authorization_guard__WEBPACK_IMPORTED_MODULE_1__["AuthorizationGuard"]],
        pathMatch: 'full'
    },
    {
        path: 'view',
        loadChildren: './view/view.module#ViewPageModule',
        canActivate: [_authorization_guard__WEBPACK_IMPORTED_MODULE_1__["AuthorizationGuard"]],
        data: {
            allowedRoles: ['subscribed', 'trial']
        }
    },
    {
        path: 'edit',
        loadChildren: './edit/edit.module#EditPageModule',
        canActivate: [_authorization_guard__WEBPACK_IMPORTED_MODULE_1__["AuthorizationGuard"]],
        data: {
            allowedRoles: ['subscribed', 'trial']
        }
    },
    {
        path: 'settings',
        loadChildren: './settings/settings.module#SettingsPageModule',
        canActivate: [_authorization_guard__WEBPACK_IMPORTED_MODULE_1__["AuthorizationGuard"]],
        data: {
            allowedRoles: ['subscribed', 'trial']
        }
    },
    {
        path: 'choose-sign',
        loadChildren: './choose-sign/choose-sign.module#ChooseSignPageModule',
        canActivate: [_authorization_guard__WEBPACK_IMPORTED_MODULE_1__["AuthorizationGuard"]],
        data: {
            allowedRoles: ['subscribed', 'trial']
        }
    },
    {
        path: 'about',
        loadChildren: './about/about.module#AboutPageModule',
        canActivate: [_authorization_guard__WEBPACK_IMPORTED_MODULE_1__["AuthorizationGuard"]],
        data: {
            allowedRoles: ['subscribed', 'trial']
        }
    },
    {
        path: 'profile',
        component: _profile_profile_component__WEBPACK_IMPORTED_MODULE_2__["ProfileComponent"],
        canActivate: [_authorization_guard__WEBPACK_IMPORTED_MODULE_1__["AuthorizationGuard"]],
        data: {
            allowedRoles: ['subscribed', 'trial']
        }
    },
    {
        path: 'home',
        loadChildren: './home/home.module#HomePageModule'
    },
    {
        path: 'login',
        loadChildren: './login/login.module#LoginPageModule'
    },
    {
        path: 'logout',
        loadChildren: './logout/logout.module#LogoutPageModule'
    },
    {
        path: 'subscribe',
        loadChildren: './subscribe/subscribe.module#SubscribePageModule'
    },
    {
        path: 'callback',
        component: _callback_callback_component__WEBPACK_IMPORTED_MODULE_5__["CallbackComponent"]
    },
    {
        path: 'stripesuccess',
        loadChildren: './stripesuccess/stripesuccess.module#StripesuccessPageModule'
    },
    {
        path: 'stripecancel',
        loadChildren: './stripecancel/stripecancel.module#StripecancelPageModule'
    },
    { path: 'stripesuccess', loadChildren: './stripesuccess/stripesuccess.module#StripesuccessPageModule' },
    { path: 'stripecancel', loadChildren: './stripecancel/stripecancel.module#StripecancelPageModule' },
    { path: 'share-ios', loadChildren: './share-ios/share-ios.module#ShareIOSPageModule' },
];
var AppRoutingModule = /** @class */ (function () {
    function AppRoutingModule() {
    }
    AppRoutingModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["NgModule"])({
            imports: [_angular_router__WEBPACK_IMPORTED_MODULE_4__["RouterModule"].forRoot(routes)],
            exports: [_angular_router__WEBPACK_IMPORTED_MODULE_4__["RouterModule"]]
        })
    ], AppRoutingModule);
    return AppRoutingModule;
}());



/***/ }),

/***/ "./src/app/app.component.html":
/*!************************************!*\
  !*** ./src/app/app.component.html ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-app>\r\n  <ion-split-pane>\r\n    <ion-menu>\r\n      <ion-header>\r\n        <ion-toolbar>\r\n          <ion-title>{{'Menu' | translate}} ({{'version' | translate}}: 0.0.108)</ion-title>\r\n        </ion-toolbar>\r\n      </ion-header>\r\n      <ion-content>\r\n        <ion-list>\r\n          <ion-menu-toggle auto-hide=\"false\" *ngFor=\"let p of appPages\">\r\n            <ion-item [routerDirection]=\"'root'\" [routerLink]=\"[p.url]\">\r\n              <ion-icon slot=\"start\" [name]=\"p.icon\"></ion-icon>\r\n              <ion-label>\r\n                {{p.title}}\r\n              </ion-label>\r\n            </ion-item>\r\n          </ion-menu-toggle>\r\n        </ion-list>\r\n      </ion-content>\r\n    </ion-menu>\r\n    <ion-router-outlet main></ion-router-outlet>\r\n  </ion-split-pane>\r\n</ion-app>\r\n"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic-native/splash-screen/ngx */ "./node_modules/@ionic-native/splash-screen/ngx/index.js");
/* harmony import */ var _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic-native/status-bar/ngx */ "./node_modules/@ionic-native/status-bar/ngx/index.js");
/* harmony import */ var _settings_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./settings.service */ "./src/app/settings.service.ts");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");







var AppComponent = /** @class */ (function () {
    function AppComponent(platform, splashScreen, statusBar, settingsService, translate) {
        var _this = this;
        this.platform = platform;
        this.splashScreen = splashScreen;
        this.statusBar = statusBar;
        this.settingsService = settingsService;
        this.translate = translate;
        this.translate.setDefaultLang('en');
        settingsService.getUILanguage().then(function (language) {
            if (language) {
                _this.translate.use(language);
            }
        });
        this.initializeApp();
        platform.ready().then(function () {
            _this.settingsService.loadDefaultPuddles();
        });
    }
    AppComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.translate.onLangChange.subscribe(function (params) {
            _this.translateMenu();
        });
        this.translateMenu();
    };
    AppComponent.prototype.translateMenu = function () {
        var _this = this;
        this.translate.get('Edit').subscribe(function (edit) {
            _this.translate.get('Settings').subscribe(function (settings) {
                _this.translate.get('About').subscribe(function (about) {
                    _this.translate.get('Logout').subscribe(function (logout) {
                        _this.translate.get('Subscription').subscribe(function (subscription) {
                            _this.appPages = [
                                {
                                    title: edit,
                                    url: '/edit',
                                    icon: 'document'
                                },
                                {
                                    title: settings,
                                    url: '/settings',
                                    icon: 'settings'
                                },
                                {
                                    title: subscription,
                                    url: '/subscribe',
                                    icon: 'card'
                                },
                                {
                                    title: about,
                                    url: '/about',
                                    icon: 'information-circle-outline'
                                },
                                {
                                    title: logout,
                                    url: '/logout',
                                    icon: 'exit'
                                }
                            ];
                        });
                    });
                });
            });
        });
    };
    AppComponent.prototype.initializeApp = function () {
        var _this = this;
        this.platform.ready().then(function () {
            _this.statusBar.styleDefault();
            _this.splashScreen.hide();
        });
    };
    AppComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-root',
            template: __webpack_require__(/*! ./app.component.html */ "./src/app/app.component.html")
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"],
            _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_3__["SplashScreen"],
            _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_4__["StatusBar"],
            _settings_service__WEBPACK_IMPORTED_MODULE_5__["SettingsService"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__["TranslateService"]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule, createTranslateLoader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createTranslateLoader", function() { return createTranslateLoader; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _sentry_error_handler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sentry-error-handler */ "./src/app/sentry-error-handler.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_user_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./services/user.service */ "./src/app/services/user.service.ts");
/* harmony import */ var _services_authorization_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./services/authorization.service */ "./src/app/services/authorization.service.ts");
/* harmony import */ var _profile_profile_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./profile/profile.component */ "./src/app/profile/profile.component.ts");
/* harmony import */ var _callback_callback_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./callback/callback.component */ "./src/app/callback/callback.component.ts");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_service_worker__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/service-worker */ "./node_modules/@angular/service-worker/fesm5/service-worker.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var _ngx_translate_http_loader__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @ngx-translate/http-loader */ "./node_modules/@ngx-translate/http-loader/fesm5/ngx-translate-http-loader.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @ionic-native/splash-screen/ngx */ "./node_modules/@ionic-native/splash-screen/ngx/index.js");
/* harmony import */ var _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @ionic-native/status-bar/ngx */ "./node_modules/@ionic-native/status-bar/ngx/index.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var _ionic_native_social_sharing_ngx__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @ionic-native/social-sharing/ngx */ "./node_modules/@ionic-native/social-sharing/ngx/index.js");
/* harmony import */ var _show_image_show_image_module__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./show-image/show-image.module */ "./src/app/show-image/show-image.module.ts");
/* harmony import */ var _share_ios_share_ios_module__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./share-ios/share-ios.module */ "./src/app/share-ios/share-ios.module.ts");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./app-routing.module */ "./src/app/app-routing.module.ts");
/* harmony import */ var _choose_sign_choose_sign_module__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./choose-sign/choose-sign.module */ "./src/app/choose-sign/choose-sign.module.ts");
/* harmony import */ var _pipes_pipes_module__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./pipes/pipes.module */ "./src/app/pipes/pipes.module.ts");
/* harmony import */ var _signs_lookup_service__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./signs-lookup.service */ "./src/app/signs-lookup.service.ts");
/* harmony import */ var _document_service__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./document.service */ "./src/app/document.service.ts");
/* harmony import */ var _social_sharing_service__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./social-sharing.service */ "./src/app/social-sharing.service.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../environments/environment */ "./src/environments/environment.ts");





























var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["NgModule"])({
            declarations: [
                _app_component__WEBPACK_IMPORTED_MODULE_20__["AppComponent"],
                _callback_callback_component__WEBPACK_IMPORTED_MODULE_6__["CallbackComponent"],
                _profile_profile_component__WEBPACK_IMPORTED_MODULE_5__["ProfileComponent"]
            ],
            entryComponents: [],
            imports: [
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_7__["BrowserModule"],
                _angular_common_http__WEBPACK_IMPORTED_MODULE_9__["HttpClientModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_13__["IonicModule"].forRoot(),
                _ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__["TranslateModule"].forRoot({
                    loader: {
                        provide: _ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__["TranslateLoader"],
                        useFactory: (createTranslateLoader),
                        deps: [_angular_common_http__WEBPACK_IMPORTED_MODULE_9__["HttpClient"]]
                    }
                }),
                _ionic_storage__WEBPACK_IMPORTED_MODULE_16__["IonicStorageModule"].forRoot({
                    name: '__swsignwriterdb'
                }),
                _app_routing_module__WEBPACK_IMPORTED_MODULE_21__["AppRoutingModule"],
                _choose_sign_choose_sign_module__WEBPACK_IMPORTED_MODULE_22__["ChooseSignPageModule"],
                _show_image_show_image_module__WEBPACK_IMPORTED_MODULE_18__["ShowImagePageModule"],
                _share_ios_share_ios_module__WEBPACK_IMPORTED_MODULE_19__["ShareIOSPageModule"],
                _pipes_pipes_module__WEBPACK_IMPORTED_MODULE_23__["PipesModule"],
                _angular_service_worker__WEBPACK_IMPORTED_MODULE_10__["ServiceWorkerModule"].register('ngsw-worker.js', { enabled: _environments_environment__WEBPACK_IMPORTED_MODULE_27__["environment"].production })
            ],
            exports: [_ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__["TranslateModule"]],
            providers: [
                _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_15__["StatusBar"],
                _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_14__["SplashScreen"],
                { provide: _angular_router__WEBPACK_IMPORTED_MODULE_8__["RouteReuseStrategy"], useClass: _ionic_angular__WEBPACK_IMPORTED_MODULE_13__["IonicRouteStrategy"] },
                { provide: _angular_core__WEBPACK_IMPORTED_MODULE_2__["ErrorHandler"], useClass: _sentry_error_handler__WEBPACK_IMPORTED_MODULE_1__["SentryErrorHandler"] },
                _signs_lookup_service__WEBPACK_IMPORTED_MODULE_24__["SignsLookupService"],
                _document_service__WEBPACK_IMPORTED_MODULE_25__["DocumentService"],
                _social_sharing_service__WEBPACK_IMPORTED_MODULE_26__["SocialSharingService"],
                _ionic_native_social_sharing_ngx__WEBPACK_IMPORTED_MODULE_17__["SocialSharing"],
                _services_authorization_service__WEBPACK_IMPORTED_MODULE_4__["AuthorizationService"],
                _services_user_service__WEBPACK_IMPORTED_MODULE_3__["UserService"]
            ],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_20__["AppComponent"]]
        })
    ], AppModule);
    return AppModule;
}());

function createTranslateLoader(http) {
    return new _ngx_translate_http_loader__WEBPACK_IMPORTED_MODULE_12__["TranslateHttpLoader"](http, './assets/i18n/', '.json');
}


/***/ }),

/***/ "./src/app/auth.service.ts":
/*!*********************************!*\
  !*** ./src/app/auth.service.ts ***!
  \*********************************/
/*! exports provided: AuthService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthService", function() { return AuthService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _auth0_auth0_spa_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @auth0/auth0-spa-js */ "./node_modules/@auth0/auth0-spa-js/dist/auth0-spa-js.production.js");
/* harmony import */ var _auth0_auth0_spa_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_auth0_auth0_spa_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");






var AuthService = /** @class */ (function () {
    function AuthService(router) {
        this.router = router;
        // Create an observable of Auth0 instance of client
        this.auth0Client$ = Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["from"])(_auth0_auth0_spa_js__WEBPACK_IMPORTED_MODULE_2___default()({
            domain: 'swsignwriter-dev.auth0.com',
            client_id: 'ZwbFfCpbcn8LDr5ubKYieMuL0MoNcnzK',
            redirect_uri: window.location.origin + "/callback"
        })).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["shareReplay"])(1), // Every subscription receives the same shared value
        Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(function (err) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["throwError"])(err); }));
        // Define observables for SDK methods that return promises by default
        // For each Auth0 SDK method, first ensure the client instance is ready
        // concatMap: Using the client instance, call SDK method; SDK returns a promise
        // from: Convert that resulting promise into an observable
        this.isAuthenticated$ = this.auth0Client$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["concatMap"])(function (client) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["from"])(client.isAuthenticated()); }));
        this.handleRedirectCallback$ = this.auth0Client$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["concatMap"])(function (client) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["from"])(client.handleRedirectCallback()); }));
        // Create subject and public observable of user profile data
        this.userProfileSubject$ = new rxjs__WEBPACK_IMPORTED_MODULE_3__["BehaviorSubject"](null);
        this.userProfile$ = this.userProfileSubject$.asObservable();
        // Create a local property for login status
        this.loggedIn = null;
    }
    // getUser$() is a method because options can be passed if desired
    // https://auth0.github.io/auth0-spa-js/classes/auth0client.html#getuser
    AuthService.prototype.getUser$ = function (options) {
        return this.auth0Client$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["concatMap"])(function (client) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["from"])(client.getUser(options)); }));
    };
    AuthService.prototype.localAuthSetup = function () {
        var _this = this;
        // This should only be called on app initialization
        // Set up local authentication streams
        var checkAuth$ = this.isAuthenticated$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["concatMap"])(function (loggedIn) {
            if (loggedIn) {
                // If authenticated, get user data
                return _this.getUser$();
            }
            // If not authenticated, return stream that emits 'false'
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["of"])(loggedIn);
        }));
        var checkAuthSub = checkAuth$.subscribe(function (response) {
            // If authenticated, response will be user object
            // If not authenticated, response will be 'false'
            // Set subjects appropriately
            if (response) {
                var user = response;
                _this.userProfileSubject$.next(user);
            }
            _this.loggedIn = !!response;
            // Clean up subscription
            checkAuthSub.unsubscribe();
        });
    };
    AuthService.prototype.login = function (redirectPath) {
        if (redirectPath === void 0) { redirectPath = '/'; }
        // A desired redirect path can be passed to login method
        // (e.g., from a route guard)
        // Ensure Auth0 client instance exists
        this.auth0Client$.subscribe(function (client) {
            // Call method to log in
            client.loginWithRedirect({
                redirect_uri: window.location.origin + "/callback",
                appState: { target: redirectPath }
            });
        });
    };
    AuthService.prototype.handleAuthCallback = function () {
        var _this = this;
        // Only the callback component should call this method
        // Call when app reloads after user logs in with Auth0
        var targetRoute; // Path to redirect to after login processsed
        // Ensure Auth0 client instance exists
        var authComplete$ = this.auth0Client$.pipe(
        // Have client, now call method to handle auth callback redirect
        Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["concatMap"])(function () { return _this.handleRedirectCallback$; }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["tap"])(function (cbRes) {
            // Get and set target redirect route from callback results
            targetRoute = cbRes.appState && cbRes.appState.target ? cbRes.appState.target : '/';
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["concatMap"])(function () {
            // Redirect callback complete; create stream
            // returning user data and authentication status
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["combineLatest"])([
                _this.getUser$(),
                _this.isAuthenticated$
            ]);
        }));
        // Subscribe to authentication completion observable
        // Response will be an array of user and login status
        authComplete$.subscribe(function (_a) {
            var user = _a[0], loggedIn = _a[1];
            // Update subjects and loggedIn property
            _this.userProfileSubject$.next(user);
            _this.loggedIn = loggedIn;
            // Redirect to target route after callback processing
            _this.router.navigate([targetRoute]);
        });
    };
    AuthService.prototype.logout = function () {
        // Ensure Auth0 client instance exists
        this.auth0Client$.subscribe(function (client) {
            // Call method to log out
            client.logout({
                client_id: 'ZwbFfCpbcn8LDr5ubKYieMuL0MoNcnzK',
                returnTo: "" + window.location.origin
            });
        });
    };
    AuthService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_5__["Router"]])
    ], AuthService);
    return AuthService;
}());



/***/ }),

/***/ "./src/app/authorization.guard.ts":
/*!****************************************!*\
  !*** ./src/app/authorization.guard.ts ***!
  \****************************************/
/*! exports provided: AuthorizationGuard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthorizationGuard", function() { return AuthorizationGuard; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_authorization_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./services/authorization.service */ "./src/app/services/authorization.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");




var AuthorizationGuard = /** @class */ (function () {
    function AuthorizationGuard(authorizationService, router) {
        this.authorizationService = authorizationService;
        this.router = router;
    }
    AuthorizationGuard.prototype.canActivate = function (next, state) {
        var allowedRoles = next.data.allowedRoles;
        var isAuthorized = this.authorizationService.isAuthorized(allowedRoles);
        if (!isAuthorized) {
            this.router.navigate(['/login']);
        }
        return isAuthorized;
    };
    AuthorizationGuard.prototype.canActivateChild = function (next, state) {
        var allowedRoles = next.data.allowedRoles;
        var isAuthorized = this.authorizationService.isAuthorized(allowedRoles);
        if (!isAuthorized) {
            this.router.navigate(['/login']);
        }
        return isAuthorized;
    };
    AuthorizationGuard = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_authorization_service__WEBPACK_IMPORTED_MODULE_2__["AuthorizationService"], _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"]])
    ], AuthorizationGuard);
    return AuthorizationGuard;
}());



/***/ }),

/***/ "./src/app/callback/callback.component.html":
/*!**************************************************!*\
  !*** ./src/app/callback/callback.component.html ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<p>\r\n  Getting your info.\r\n</p>\r\n "

/***/ }),

/***/ "./src/app/callback/callback.component.scss":
/*!**************************************************!*\
  !*** ./src/app/callback/callback.component.scss ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NhbGxiYWNrL2NhbGxiYWNrLmNvbXBvbmVudC5zY3NzIn0= */"

/***/ }),

/***/ "./src/app/callback/callback.component.ts":
/*!************************************************!*\
  !*** ./src/app/callback/callback.component.ts ***!
  \************************************************/
/*! exports provided: CallbackComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CallbackComponent", function() { return CallbackComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _sentry_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../sentry.service */ "./src/app/sentry.service.ts");
/* harmony import */ var _stripe_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../stripe.service */ "./src/app/stripe.service.ts");
/* harmony import */ var _storage_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../storage.service */ "./src/app/storage.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../auth.service */ "./src/app/auth.service.ts");






var CallbackComponent = /** @class */ (function () {
    function CallbackComponent(auth, storage, stripeService, sentry) {
        this.auth = auth;
        this.storage = storage;
        this.stripeService = stripeService;
        this.sentry = sentry;
    }
    CallbackComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.auth.userProfile$.subscribe(function (userProfile) { return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](_this, void 0, void 0, function () {
            var trialDate;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(userProfile && userProfile !== null)) return [3 /*break*/, 2];
                        debugger;
                        this.sentry.sentryMessage('Logged in: ' + JSON.stringify(userProfile));
                        this.storage.SaveCurrentUserProfile(userProfile);
                        this.stripeService.GetandSaveStripeSubscriptionData(userProfile.email);
                        return [4 /*yield*/, this.storage.GetTrialStartDate(userProfile.email)];
                    case 1:
                        trialDate = _a.sent();
                        if (!trialDate) {
                            this.storage.SaveTrialStartDate(userProfile.email, new Date());
                        }
                        _a.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        }); });
        this.auth.handleAuthCallback();
    };
    CallbackComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"])({
            selector: 'app-callback',
            template: __webpack_require__(/*! ./callback.component.html */ "./src/app/callback/callback.component.html"),
            styles: [__webpack_require__(/*! ./callback.component.scss */ "./src/app/callback/callback.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_auth_service__WEBPACK_IMPORTED_MODULE_5__["AuthService"],
            _storage_service__WEBPACK_IMPORTED_MODULE_3__["StorageService"],
            _stripe_service__WEBPACK_IMPORTED_MODULE_2__["StripeService"],
            _sentry_service__WEBPACK_IMPORTED_MODULE_1__["SentryService"]])
    ], CallbackComponent);
    return CallbackComponent;
}());



/***/ }),

/***/ "./src/app/choose-sign/choose-sign.module.ts":
/*!***************************************************!*\
  !*** ./src/app/choose-sign/choose-sign.module.ts ***!
  \***************************************************/
/*! exports provided: ChooseSignPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChooseSignPageModule", function() { return ChooseSignPageModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _choose_sign_page__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./choose-sign.page */ "./src/app/choose-sign/choose-sign.page.ts");
/* harmony import */ var _pipes_pipes_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../pipes/pipes.module */ "./src/app/pipes/pipes.module.ts");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../shared/shared.module */ "./src/app/shared/shared.module.ts");









var routes = [
    {
        path: '',
        component: _choose_sign_page__WEBPACK_IMPORTED_MODULE_6__["ChooseSignPage"]
    }
];
var ChooseSignPageModule = /** @class */ (function () {
    function ChooseSignPageModule() {
    }
    ChooseSignPageModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["IonicModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_4__["RouterModule"].forChild(routes),
                _pipes_pipes_module__WEBPACK_IMPORTED_MODULE_7__["PipesModule"],
                _shared_shared_module__WEBPACK_IMPORTED_MODULE_8__["SharedModule"]
            ],
            declarations: [_choose_sign_page__WEBPACK_IMPORTED_MODULE_6__["ChooseSignPage"]]
        })
    ], ChooseSignPageModule);
    return ChooseSignPageModule;
}());



/***/ }),

/***/ "./src/app/choose-sign/choose-sign.page.html":
/*!***************************************************!*\
  !*** ./src/app/choose-sign/choose-sign.page.html ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\r\n  <ion-toolbar>\r\n    <ion-title>{{ 'Choose Sign' | translate }}</ion-title>\r\n    <ion-item>\r\n      <ion-textarea #searchRef placeholder=\"{{'Enter word to search here' | translate}}\" ></ion-textarea>\r\n    </ion-item>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content padding>\r\n  <ion-radio-group>\r\n    <ion-item *ngFor=\"let item of elements\">\r\n      <div class=\"sign\">\r\n        <span [innerHTML]=\"item.sign | safeHtml\"></span>\r\n        <ion-label>{{ item.gloss }}</ion-label>\r\n      </div>\r\n      <ion-label> </ion-label>\r\n      <ion-radio [value]=\"item.key\" (ionSelect)=\"radioChecked(item.key)\" slot=\"start\"></ion-radio>\r\n    </ion-item>\r\n  </ion-radio-group>\r\n</ion-content>\r\n\r\n<ion-footer>\r\n  <ion-toolbar>\r\n    <ion-grid>\r\n      <ion-row>\r\n        <ion-col> </ion-col>\r\n        <ion-col>\r\n          <ion-button (click)=\"accept()\" color=\"primary\">{{ 'Accept' | translate }}</ion-button>\r\n        </ion-col>\r\n        <ion-col> </ion-col>\r\n        <ion-col>\r\n          <ion-button (click)=\"cancel()\" color=\"secondary\">{{ 'Cancel' | translate }}</ion-button>\r\n        </ion-col>\r\n        <ion-col> </ion-col>\r\n      </ion-row>\r\n    </ion-grid>\r\n  </ion-toolbar>\r\n</ion-footer>"

/***/ }),

/***/ "./src/app/choose-sign/choose-sign.page.scss":
/*!***************************************************!*\
  !*** ./src/app/choose-sign/choose-sign.page.scss ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".sign {\n  min-width: 100px;\n  padding: 10px; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY2hvb3NlLXNpZ24vSDpcXFNXU2lnbldyaXRlclxcU1dTaWduV3JpdGVyLUFwcC9zcmNcXGFwcFxcY2hvb3NlLXNpZ25cXGNob29zZS1zaWduLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdCQUFnQjtFQUNoQixhQUFhLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9jaG9vc2Utc2lnbi9jaG9vc2Utc2lnbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuc2lnbiB7XHJcbiAgbWluLXdpZHRoOiAxMDBweDtcclxuICBwYWRkaW5nOiAxMHB4O1xyXG59XHJcbiJdfQ== */"

/***/ }),

/***/ "./src/app/choose-sign/choose-sign.page.ts":
/*!*************************************************!*\
  !*** ./src/app/choose-sign/choose-sign.page.ts ***!
  \*************************************************/
/*! exports provided: ChooseSignPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChooseSignPage", function() { return ChooseSignPage; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _signs_lookup_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../signs-lookup.service */ "./src/app/signs-lookup.service.ts");






var ChooseSignPage = /** @class */ (function () {
    function ChooseSignPage(modalController, signsLookupService) {
        this.modalController = modalController;
        this.signsLookupService = signsLookupService;
        // componentProps can also be accessed at construction time using NavParams
    }
    ChooseSignPage.prototype.ngOnInit = function () {
        this.elements = [];
        this.searchRef.nativeElement.value = this.searchword;
        var result = this.signsLookupService.search(this.searchword);
        this.showResult(result);
    };
    ChooseSignPage.prototype.ngAfterViewInit = function () {
        var _this = this;
        Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["fromEvent"])(this.searchRef.nativeElement, 'keyup')
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (evt) { return evt.target.value; }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["debounceTime"])(100), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["distinctUntilChanged"])())
            // subscription
            .subscribe(function (text) {
            var result = _this.signsLookupService.search(text);
            _this.showResult(result);
        });
    };
    ChooseSignPage.prototype.accept = function () {
        var _this = this;
        var element = this.elements.find(function (x) { return x.key === _this.selectedkey; });
        this.modalController.dismiss({
            result: element
        });
    };
    ChooseSignPage.prototype.cancel = function () {
        this.modalController.dismiss({
            result: 'cancel'
        });
    };
    ChooseSignPage.prototype.radioChecked = function (key) {
        this.selectedkey = key;
    };
    ChooseSignPage.prototype.showResult = function (result) {
        var _this = this;
        this.elements = [];
        result.forEach(function (entry) {
            _this.elements.push({
                sign: ssw.svg(entry.fsw),
                key: entry.key,
                gloss: entry.gloss
            });
        });
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
    ], ChooseSignPage.prototype, "entrys", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
    ], ChooseSignPage.prototype, "searchword", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('searchRef', { read: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"] }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"])
    ], ChooseSignPage.prototype, "searchRef", void 0);
    ChooseSignPage = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-choose-sign',
            template: __webpack_require__(/*! ./choose-sign.page.html */ "./src/app/choose-sign/choose-sign.page.html"),
            styles: [__webpack_require__(/*! ./choose-sign.page.scss */ "./src/app/choose-sign/choose-sign.page.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ModalController"],
            _signs_lookup_service__WEBPACK_IMPORTED_MODULE_5__["SignsLookupService"]])
    ], ChooseSignPage);
    return ChooseSignPage;
}());



/***/ }),

/***/ "./src/app/color.service.ts":
/*!**********************************!*\
  !*** ./src/app/color.service.ts ***!
  \**********************************/
/*! exports provided: ColorService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ColorService", function() { return ColorService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");


var ColorService = /** @class */ (function () {
    function ColorService() {
        this.green = { r: 51, g: 204, b: 51 };
        this.yelllow = { r: 255, g: 255, b: 0 };
        this.orange = { r: 255, g: 165, b: 0 };
        this.red = { r: 255, g: 77, b: 77 };
    }
    ColorService.prototype.colorgradient = function (count, color1, color2) {
        var rdist = color1.r - color2.r;
        var gdist = color1.g - color2.g;
        var bdist = color1.b - color2.b;
        var rperc = rdist > 0 ? count / 10 : (10 - count) / 10;
        var gperc = gdist > 0 ? count / 10 : (10 - count) / 10;
        var bperc = bdist > 0 ? count / 10 : (10 - count) / 10;
        var r = Math.round(Math.abs(rdist) * rperc + color1.r);
        var g = Math.round(Math.abs(gdist) * gperc + color1.g);
        var b = Math.round(Math.abs(bdist) * bperc + color1.b);
        var newColor = this.hexrgb(r, g, b);
        return newColor;
    };
    ColorService.prototype.hexrgb = function (red, green, blue) {
        var decColor = 0x1000000 + 0x10000 * red + 0x100 * green + blue;
        return '#' + decColor.toString(16).substr(1);
    };
    ColorService.prototype.hexcolor = function (color) {
        return this.hexrgb(color.r, color.g, color.b);
    };
    ColorService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], ColorService);
    return ColorService;
}());



/***/ }),

/***/ "./src/app/document.service.ts":
/*!*************************************!*\
  !*** ./src/app/document.service.ts ***!
  \*************************************/
/*! exports provided: DocumentService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DocumentService", function() { return DocumentService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! uuid */ "./node_modules/uuid/index.js");
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _signs_lookup_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./signs-lookup.service */ "./src/app/signs-lookup.service.ts");
/* harmony import */ var _color_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./color.service */ "./src/app/color.service.ts");
/* harmony import */ var _normalization_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./normalization.service */ "./src/app/normalization.service.ts");
/* harmony import */ var _synch_arrays_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./synch-arrays.service */ "./src/app/synch-arrays.service.ts");







var DocumentService = /** @class */ (function () {
    function DocumentService(signsLookupService, color, synchArray, normalize) {
        this.signsLookupService = signsLookupService;
        this.color = color;
        this.synchArray = synchArray;
        this.normalize = normalize;
        this.clearDocument();
    }
    DocumentService.prototype.clearDocument = function () {
        this.document = this.newDocument();
    };
    DocumentService.prototype.newDocument = function () {
        return { signs: [] };
    };
    DocumentService.prototype.getDocument = function () {
        return this.cloneDocument(this.document);
    };
    DocumentService.prototype.updateDocument = function (document) {
        this.document = document;
    };
    DocumentService.prototype.updateSigns = function (signs) {
        var document = this.getDocument();
        document.signs = signs;
        this.updateDocument(document);
    };
    DocumentService.prototype.cloneDocument = function (document) {
        var clonedDocument = this.cloneObject(document);
        clonedDocument.signs = this.cloneArray(clonedDocument.signs);
        return clonedDocument;
    };
    DocumentService.prototype.cloneArray = function (arr) {
        return Object.assign([], arr);
    };
    DocumentService.prototype.cloneObject = function (obj) {
        return Object.assign({}, obj);
    };
    DocumentService.prototype.getFSW = function () {
        var _this = this;
        var fsw = '';
        this.document.signs.filter(function (found) { return found.sign && found.sign.fsw; }).forEach(function (found) {
            fsw += _this.changeLane(found.sign.fsw, found.lane) + ' ';
        });
        return fsw;
    };
    DocumentService.prototype.changeLane = function (fsw, lane) {
        var newLane = lane === _signs_lookup_service__WEBPACK_IMPORTED_MODULE_3__["Lane"].Left ? 'L' : (lane === _signs_lookup_service__WEBPACK_IMPORTED_MODULE_3__["Lane"].Right ? 'R' : 'M');
        return fsw.replace('M', newLane);
    };
    DocumentService.prototype.searchFrase = function (text) {
        var _this = this;
        var cleaned = this.clean(text);
        var texts = cleaned.split(' ');
        var glosses = texts
            .filter(function (str) { return !(!str || 0 === str.length); });
        var blankFoundSign = {
            sign: '',
            text: '',
            id: '',
            svg: '',
            totalmatches: 0,
            color: 'red'
        };
        var signs = this.synchArray.synchzip(glosses, this.document.signs, function (item) { return item; }, function (item) { return item.text; }, blankFoundSign)
            .map(function (element) {
            if (element.item2 && element.item1 === element.item2.text) {
                return element.item2;
            }
            else {
                return _this.findSign(element.item1);
            }
        });
        this.updateSigns(signs);
    };
    DocumentService.prototype.clean = function (text) {
        var tobereplaced = text;
        var replaceArr = [{ f: '{', t: '' }, { f: '}', t: '' }, { f: '}', t: '' },
            { f: '\\( ', t: '' }, { f: '\\)', t: '' }, { f: ',', t: ' , ' }, { f: '\\.', t: ' . ' },
            { f: '!', t: ' ! ' }, { f: '', t: '  ' }, { f: '\\?', t: ' ? ' }, { f: '', t: '  ' },
            { f: ':', t: ' : ' }, { f: ';', t: ' ; ' }, { f: '\t', t: ' ' },
            { f: '   ', t: ' ' }, { f: '  ', t: ' ' }];
        if (tobereplaced && tobereplaced.length > 1) {
            replaceArr.forEach(function (repl) {
                tobereplaced = tobereplaced.replace(new RegExp(repl.f, 'g'), repl.t);
            });
        }
        return tobereplaced;
    };
    DocumentService.prototype.findSign = function (text) {
        var signs = this.signsLookupService.search(text);
        var count = signs.length;
        var found;
        if (signs.length > 0) {
            var matching = this.findmatchingresult(signs, text);
            found = {
                sign: matching.sign,
                text: text,
                id: matching.sign.key + text,
                svg: ssw.svg(matching.sign.fsw),
                totalmatches: count,
                color: this.matchColor(matching),
                lane: _signs_lookup_service__WEBPACK_IMPORTED_MODULE_3__["Lane"].Middle
            };
        }
        if (!found) {
            found = {
                sign: null,
                text: text,
                id: Object(uuid__WEBPACK_IMPORTED_MODULE_2__["v4"])() + text,
                svg: '',
                totalmatches: count,
                color: this.matchColor(null),
                lane: _signs_lookup_service__WEBPACK_IMPORTED_MODULE_3__["Lane"].Middle
            };
        }
        return found;
    };
    DocumentService.prototype.matchColor = function (matching) {
        var finalcolor;
        if (matching) {
            switch (matching.type) {
                case 'exact':
                    if (matching.count === 1) {
                        finalcolor = this.color.hexcolor(this.color.green);
                    }
                    else {
                        finalcolor = this.color.colorgradient(matching.count, this.color.green, this.color.yelllow);
                    }
                    break;
                case 'similar':
                    finalcolor = this.color.colorgradient(matching.count, this.color.yelllow, this.color.orange);
                    break;
                case 'substring':
                    finalcolor = this.color.colorgradient(matching.count, this.color.orange, this.color.red);
                    break;
                case 'notmatching':
                default:
                    finalcolor = this.color.hexcolor(this.color.red);
            }
        }
        else {
            finalcolor = this.color.hexcolor(this.color.red);
        }
        return finalcolor;
    };
    DocumentService.prototype.findmatchingresult = function (founds, searchText) {
        var normalized = this.normalize.normalizeForSearch(searchText);
        var type = 'exact';
        var foundexacts = founds.filter(function (item) { return item && item.gloss && searchText && item.gloss.toLowerCase() === searchText.toLowerCase(); });
        var exactCount = foundexacts.length;
        var foundexact;
        if (exactCount > 0) {
            foundexact = foundexacts[0];
        }
        if (foundexact) {
            return { type: type, sign: foundexact, count: exactCount };
        }
        type = 'similar';
        var foundsimilars = founds.filter(function (item) { return item.normalized === normalized; });
        var similarCount = foundexacts.length;
        var foundsimilar;
        if (similarCount > 0) {
            foundsimilar = foundsimilars[0];
        }
        if (foundsimilar) {
            return { type: type, sign: foundsimilar, count: similarCount };
        }
        type = 'substring';
        var foundsubstrings = founds.filter(function (item) {
            return item.normalized.includes(normalized);
        });
        var substringCount = foundexacts.length;
        var foundsubstring;
        if (substringCount > 0) {
            foundsubstring = foundsubstrings[0];
        }
        if (foundsubstring) {
            return { type: type, sign: foundsubstring, count: substringCount };
        }
        type = 'notmatching';
        var first = founds[0];
        return { type: type, sign: first, count: 0 };
    };
    DocumentService.prototype.resetEntries = function () {
        this.signsLookupService.loadSigns();
    };
    DocumentService.prototype.replaceElement = function (index, result) {
        var signs = this.document.signs;
        var toChange = signs[index];
        var changeWith = this.signsLookupService.getsign(result.key);
        if (toChange && changeWith) {
            var toChangeindex = signs.indexOf(toChange);
            if (toChangeindex >= 0) {
                signs[toChangeindex] = {
                    sign: changeWith,
                    text: result.gloss,
                    id: changeWith.key + changeWith.gloss,
                    svg: ssw.svg(changeWith.fsw),
                    totalmatches: toChange.totalmatches,
                    color: this.color.hexcolor(this.color.green),
                    lane: toChange.lane
                };
            }
        }
    };
    DocumentService.prototype.getSearchWord = function (index) {
        if (index <= this.document.signs.length - 1) {
            return (this.document.signs[index]).text;
        }
        else {
            return '';
        }
    };
    DocumentService.prototype.getSearchSentence = function () {
        var sentence = '';
        this.document.signs.forEach(function (sign) {
            sentence += sign.text + ' ';
        });
        return sentence;
    };
    DocumentService.prototype.showAvailableWords = function (text) {
        return this.signsLookupService.showAvailableWords(text);
    };
    DocumentService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_signs_lookup_service__WEBPACK_IMPORTED_MODULE_3__["SignsLookupService"],
            _color_service__WEBPACK_IMPORTED_MODULE_4__["ColorService"],
            _synch_arrays_service__WEBPACK_IMPORTED_MODULE_6__["SynchArraysService"],
            _normalization_service__WEBPACK_IMPORTED_MODULE_5__["NormalizationService"]])
    ], DocumentService);
    return DocumentService;
}());



/***/ }),

/***/ "./src/app/normalization.service.ts":
/*!******************************************!*\
  !*** ./src/app/normalization.service.ts ***!
  \******************************************/
/*! exports provided: NormalizationService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NormalizationService", function() { return NormalizationService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");


var NormalizationService = /** @class */ (function () {
    function NormalizationService() {
    }
    // Excerpted from https://github.com/ikr/normalize-for-search/blob/master/src/normalize.js added 
    NormalizationService.prototype.normalizeForSearch = function (s) {
        function filter(c) {
            switch (c) {
                case '':
                case '':
                    return 'ae';
                case '':
                    return 'aa';
                case '':
                case '':
                case '':
                case '':
                    return 'a';
                case '':
                case '':
                    return 'c';
                case '':
                case '':
                case '':
                case '':
                case '':
                    return 'e';
                case '':
                case '':
                case '':
                    return 'i';
                case '':
                case '':
                    return 'oe';
                case '':
                    return 'n';
                case '':
                case '':
                case '':
                    return 'o';
                case '':
                case '':
                    return 's';
                case '':
                    return 'ue';
                case '':
                case '':
                case '':
                    return 'u';
                case '':
                    return 'ss';
                case '':
                    return '';
                default:
                    return c;
            }
        }
        var normalized = '';
        var i, l;
        s = s ? s.toLowerCase() : '';
        for (i = 0, l = s.length; i < l; i = i + 1) {
            normalized = normalized + filter(s.charAt(i));
        }
        return normalized;
    };
    NormalizationService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], NormalizationService);
    return NormalizationService;
}());



/***/ }),

/***/ "./src/app/pipes/pipes.module.ts":
/*!***************************************!*\
  !*** ./src/app/pipes/pipes.module.ts ***!
  \***************************************/
/*! exports provided: PipesModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PipesModule", function() { return PipesModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _safe_html_pipe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../safe-html.pipe */ "./src/app/safe-html.pipe.ts");




var PipesModule = /** @class */ (function () {
    function PipesModule() {
    }
    PipesModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            declarations: [_safe_html_pipe__WEBPACK_IMPORTED_MODULE_3__["SafeHtmlPipe"]],
            imports: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"]],
            exports: [_safe_html_pipe__WEBPACK_IMPORTED_MODULE_3__["SafeHtmlPipe"]]
        })
    ], PipesModule);
    return PipesModule;
}());



/***/ }),

/***/ "./src/app/profile/profile.component.html":
/*!************************************************!*\
  !*** ./src/app/profile/profile.component.html ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<pre *ngIf=\"auth.userProfile$ | async as profile\">\r\n    <code>{{ profile | json }}</code>\r\n    </pre>"

/***/ }),

/***/ "./src/app/profile/profile.component.scss":
/*!************************************************!*\
  !*** ./src/app/profile/profile.component.scss ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Byb2ZpbGUvcHJvZmlsZS5jb21wb25lbnQuc2NzcyJ9 */"

/***/ }),

/***/ "./src/app/profile/profile.component.ts":
/*!**********************************************!*\
  !*** ./src/app/profile/profile.component.ts ***!
  \**********************************************/
/*! exports provided: ProfileComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProfileComponent", function() { return ProfileComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../auth.service */ "./src/app/auth.service.ts");



var ProfileComponent = /** @class */ (function () {
    function ProfileComponent(auth) {
        this.auth = auth;
    }
    ProfileComponent.prototype.ngOnInit = function () {
    };
    ProfileComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-profile',
            template: __webpack_require__(/*! ./profile.component.html */ "./src/app/profile/profile.component.html"),
            styles: [__webpack_require__(/*! ./profile.component.scss */ "./src/app/profile/profile.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"]])
    ], ProfileComponent);
    return ProfileComponent;
}());



/***/ }),

/***/ "./src/app/safe-html.pipe.ts":
/*!***********************************!*\
  !*** ./src/app/safe-html.pipe.ts ***!
  \***********************************/
/*! exports provided: SafeHtmlPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SafeHtmlPipe", function() { return SafeHtmlPipe; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");



var SafeHtmlPipe = /** @class */ (function () {
    function SafeHtmlPipe(sanitizer) {
        this.sanitizer = sanitizer;
    }
    SafeHtmlPipe.prototype.transform = function (html) {
        return this.sanitizer.bypassSecurityTrustHtml(html);
    };
    SafeHtmlPipe = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Pipe"])({
            name: 'safeHtml'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__["DomSanitizer"]])
    ], SafeHtmlPipe);
    return SafeHtmlPipe;
}());



/***/ }),

/***/ "./src/app/sentry-error-handler.ts":
/*!*****************************************!*\
  !*** ./src/app/sentry-error-handler.ts ***!
  \*****************************************/
/*! exports provided: SentryErrorHandler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SentryErrorHandler", function() { return SentryErrorHandler; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _sentry_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sentry/browser */ "./node_modules/@sentry/browser/esm/index.js");



_sentry_browser__WEBPACK_IMPORTED_MODULE_2__["init"]({
    dsn: 'https://2366578d65db483c829fcdf83879c8c9@sentry.io/5189477'
});
var SentryErrorHandler = /** @class */ (function () {
    function SentryErrorHandler() {
    }
    SentryErrorHandler.prototype.handleError = function (error) {
        var eventId = _sentry_browser__WEBPACK_IMPORTED_MODULE_2__["captureException"](error.originalError || error.error || error);
        _sentry_browser__WEBPACK_IMPORTED_MODULE_2__["showReportDialog"]({ eventId: eventId });
    };
    SentryErrorHandler.prototype.sentryMessage = function (message) {
        _sentry_browser__WEBPACK_IMPORTED_MODULE_2__["captureMessage"](message);
    };
    SentryErrorHandler = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], SentryErrorHandler);
    return SentryErrorHandler;
}());



/***/ }),

/***/ "./src/app/sentry.service.ts":
/*!***********************************!*\
  !*** ./src/app/sentry.service.ts ***!
  \***********************************/
/*! exports provided: SentryService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SentryService", function() { return SentryService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _sentry_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sentry/browser */ "./node_modules/@sentry/browser/esm/index.js");



_sentry_browser__WEBPACK_IMPORTED_MODULE_2__["init"]({
    dsn: 'https://2366578d65db483c829fcdf83879c8c9@sentry.io/5189477'
});
var SentryService = /** @class */ (function () {
    function SentryService() {
    }
    SentryService.prototype.sentryMessage = function (message) {
        _sentry_browser__WEBPACK_IMPORTED_MODULE_2__["captureMessage"](message);
    };
    SentryService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], SentryService);
    return SentryService;
}());



/***/ }),

/***/ "./src/app/services/authorization.service.ts":
/*!***************************************************!*\
  !*** ./src/app/services/authorization.service.ts ***!
  \***************************************************/
/*! exports provided: AuthorizationService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthorizationService", function() { return AuthorizationService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _user_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./user.service */ "./src/app/services/user.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");



var AuthorizationService = /** @class */ (function () {
    function AuthorizationService(userService) {
        this.userService = userService;
    }
    AuthorizationService.prototype.isAuthorized = function (allowedRoles) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var roles;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        // check if the list of allowed roles is empty, if empty, authorize the user to access the page
                        if (allowedRoles == null || allowedRoles.length === 0) {
                            return [2 /*return*/, true];
                        }
                        return [4 /*yield*/, this.userService.GetCurrenUserRoles()];
                    case 1:
                        roles = _a.sent();
                        // check if the user roles is in the list of allowed roles, return true if allowed and false if not allowed
                        return [2 /*return*/, roles.some(function (role) { return allowedRoles.includes(role); })];
                }
            });
        });
    };
    AuthorizationService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_user_service__WEBPACK_IMPORTED_MODULE_1__["UserService"]])
    ], AuthorizationService);
    return AuthorizationService;
}());



/***/ }),

/***/ "./src/app/services/subscription.service.ts":
/*!**************************************************!*\
  !*** ./src/app/services/subscription.service.ts ***!
  \**************************************************/
/*! exports provided: SubscriptionService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SubscriptionService", function() { return SubscriptionService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _trial_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./trial.service */ "./src/app/services/trial.service.ts");
/* harmony import */ var _storage_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../storage.service */ "./src/app/storage.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");





var SubscriptionService = /** @class */ (function () {
    function SubscriptionService(storage, trialService, router) {
        this.storage = storage;
        this.trialService = trialService;
        this.router = router;
    }
    SubscriptionService.prototype.GetSubscriptionEndDate = function (email) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var subscription, subscriptionEndDate;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.storage.GetSubscription(email)];
                    case 1:
                        subscription = _a.sent();
                        if (subscription) {
                            subscriptionEndDate = subscription.endDate;
                        }
                        return [2 /*return*/, subscriptionEndDate];
                }
            });
        });
    };
    SubscriptionService.prototype.GetSubscriptionDaysLeft = function (email) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var subscriptionEndDate, diff, daysLeft;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.GetSubscriptionEndDate(email)];
                    case 1:
                        subscriptionEndDate = _a.sent();
                        diff = Math.abs(new Date(subscriptionEndDate).getTime() - new Date().getTime());
                        daysLeft = Math.ceil(diff / (1000 * 3600 * 24));
                        return [2 /*return*/, (daysLeft > 0) ? daysLeft : 0];
                }
            });
        });
    };
    SubscriptionService.prototype.CanUse = function (email) {
        if (email === void 0) { email = null; }
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var profile, isSubscribedOrTrial;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!!email) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.storage.GetCurrentUserProfile()];
                    case 1:
                        profile = _a.sent();
                        email = profile && profile !== null ? profile.email : null;
                        _a.label = 2;
                    case 2:
                        isSubscribedOrTrial = this.IsSubscribedOrTrial(email);
                        if (!isSubscribedOrTrial) {
                            this.router.navigate(['/subscribe']);
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    SubscriptionService.prototype.IsSubscribedOrTrial = function (email) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var isTrial, isSubscribed, isSubscribedOrTrial;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.trialService.GetTrialDaysLeft(email)];
                    case 1:
                        isTrial = (_a.sent()) > 0;
                        return [4 /*yield*/, this.GetSubscriptionDaysLeft(email)];
                    case 2:
                        isSubscribed = (_a.sent()) > 0;
                        isSubscribedOrTrial = isTrial || isSubscribed;
                        return [2 /*return*/, isSubscribed];
                }
            });
        });
    };
    SubscriptionService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_storage_service__WEBPACK_IMPORTED_MODULE_3__["StorageService"],
            _trial_service__WEBPACK_IMPORTED_MODULE_2__["TrialService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"]])
    ], SubscriptionService);
    return SubscriptionService;
}());



/***/ }),

/***/ "./src/app/services/trial.service.ts":
/*!*******************************************!*\
  !*** ./src/app/services/trial.service.ts ***!
  \*******************************************/
/*! exports provided: TrialService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TrialService", function() { return TrialService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _storage_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../storage.service */ "./src/app/storage.service.ts");



var TrialService = /** @class */ (function () {
    function TrialService(storage) {
        this.storage = storage;
    }
    TrialService.prototype.GetTrialDaysLeft = function (email) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var trialLength, trialStartDate, daysLeft, diff;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        trialLength = 15;
                        return [4 /*yield*/, this.storage.GetTrialStartDate(email)];
                    case 1:
                        trialStartDate = _a.sent();
                        if (trialStartDate != null) {
                            diff = Math.abs(new Date().getTime() - trialStartDate.getTime());
                            daysLeft = trialLength - Math.ceil(diff / (1000 * 3600 * 24)) + 1;
                        }
                        return [2 /*return*/, (trialStartDate != null && daysLeft > 0) ? daysLeft : 0];
                }
            });
        });
    };
    TrialService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_storage_service__WEBPACK_IMPORTED_MODULE_2__["StorageService"]])
    ], TrialService);
    return TrialService;
}());



/***/ }),

/***/ "./src/app/services/user.service.ts":
/*!******************************************!*\
  !*** ./src/app/services/user.service.ts ***!
  \******************************************/
/*! exports provided: UserService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserService", function() { return UserService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _storage_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../storage.service */ "./src/app/storage.service.ts");
/* harmony import */ var _subscription_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./subscription.service */ "./src/app/services/subscription.service.ts");
/* harmony import */ var _trial_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./trial.service */ "./src/app/services/trial.service.ts");





var UserService = /** @class */ (function () {
    function UserService(storage, subscriptions, trial) {
        this.storage = storage;
        this.subscriptions = subscriptions;
        this.trial = trial;
    }
    UserService.prototype.GetCurrenUserRoles = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var currentUserProfile, roles;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.storage.GetCurrentUserProfile()];
                    case 1:
                        currentUserProfile = _a.sent();
                        if (!(currentUserProfile && currentUserProfile != null)) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.GetRoles(currentUserProfile.email)];
                    case 2:
                        roles = _a.sent();
                        return [2 /*return*/, roles];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    UserService.prototype.GetRoles = function (email) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var trialDaysLeft, subscriptionDaysLeft, roles;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.trial.GetTrialDaysLeft(email)];
                    case 1:
                        trialDaysLeft = _a.sent();
                        return [4 /*yield*/, this.subscriptions.GetSubscriptionDaysLeft(email)];
                    case 2:
                        subscriptionDaysLeft = _a.sent();
                        roles = [];
                        if (subscriptionDaysLeft && subscriptionDaysLeft > 0) {
                            roles.push('subscribed');
                        }
                        else if (trialDaysLeft && trialDaysLeft > 0) {
                            roles.push('trial');
                        }
                        return [2 /*return*/, roles];
                }
            });
        });
    };
    UserService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_storage_service__WEBPACK_IMPORTED_MODULE_2__["StorageService"],
            _subscription_service__WEBPACK_IMPORTED_MODULE_3__["SubscriptionService"],
            _trial_service__WEBPACK_IMPORTED_MODULE_4__["TrialService"]])
    ], UserService);
    return UserService;
}());



/***/ }),

/***/ "./src/app/settings.service.ts":
/*!*************************************!*\
  !*** ./src/app/settings.service.ts ***!
  \*************************************/
/*! exports provided: SettingsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SettingsService", function() { return SettingsService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _signs_lookup_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./signs-lookup.service */ "./src/app/signs-lookup.service.ts");
/* harmony import */ var _storage_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./storage.service */ "./src/app/storage.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _spml_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./spml.service */ "./src/app/spml.service.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");








var SettingsService = /** @class */ (function () {
    function SettingsService(spmlService, storageService, signsLookupService, toastController, translateService, http) {
        this.spmlService = spmlService;
        this.storageService = storageService;
        this.signsLookupService = signsLookupService;
        this.toastController = toastController;
        this.translateService = translateService;
        this.http = http;
        this.files = [];
    }
    SettingsService.prototype.loadDefaultPuddles = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var puddlesExists, filename;
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.storageService.puddlesExists()];
                    case 1:
                        puddlesExists = _a.sent();
                        if (!puddlesExists) {
                            filename = 'assets/spml/' + 'sgn2000.spml';
                            return [2 /*return*/, this.http.get(filename, { responseType: 'text' })
                                    .subscribe(function (xml) { return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](_this, void 0, void 0, function () {
                                    var saveresult;
                                    return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                                        switch (_a.label) {
                                            case 0: return [4 /*yield*/, this.saveSpml(xml)];
                                            case 1:
                                                saveresult = _a.sent();
                                                return [4 /*yield*/, this.presentToast(saveresult)];
                                            case 2:
                                                _a.sent();
                                                return [4 /*yield*/, this.signsLookupService.loadSigns()];
                                            case 3:
                                                _a.sent();
                                                return [4 /*yield*/, this.storageService.setDefaultPuddleLoaded(true)];
                                            case 4:
                                                _a.sent();
                                                return [2 /*return*/];
                                        }
                                    });
                                }); })];
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    SettingsService.prototype.loadFile = function (file) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var defaultLoaded;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.storageService.getDefaultPuddleLoaded()];
                    case 1:
                        defaultLoaded = _a.sent();
                        if (!defaultLoaded) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.storageService.removeDefaultPuddles()];
                    case 2:
                        _a.sent();
                        _a.label = 3;
                    case 3:
                        this.readFile(file);
                        return [2 /*return*/];
                }
            });
        });
    };
    SettingsService.prototype.readFile = function (file) {
        var _this = this;
        var reader = new FileReader();
        reader.onload = (function () { return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](_this, void 0, void 0, function () {
            var xml;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        xml = reader.result;
                        return [4 /*yield*/, this.loadPuddle(xml)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        }); });
        reader.readAsText(file);
    };
    SettingsService.prototype.loadPuddle = function (xml) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var saveresult;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.saveSpml(xml)];
                    case 1:
                        saveresult = _a.sent();
                        return [4 /*yield*/, this.presentToast(saveresult)];
                    case 2:
                        _a.sent();
                        this.signsLookupService.loadSigns();
                        return [4 /*yield*/, this.storageService.setDefaultPuddleLoaded(false)];
                    case 3:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    SettingsService.prototype.saveSpml = function (spml) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var result, puddlename, saveresult;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        result = this.spmlService.convertspml(spml);
                        puddlename = 'puddle_' + result.puddleInfo.puddle;
                        return [4 /*yield*/, this.storageService.savePuddle(puddlename, result)];
                    case 1:
                        saveresult = _a.sent();
                        return [2 /*return*/, saveresult];
                }
            });
        });
    };
    SettingsService.prototype.presentToast = function (saved) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var toast;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: saved.entries + this.translateService.instant('entries saved To') + saved.puddlename,
                            duration: 2000
                        })];
                    case 1:
                        toast = _a.sent();
                        return [4 /*yield*/, toast.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    SettingsService.prototype.removeAllSigns = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.storageService.removeAllPuddles()];
                    case 1:
                        _a.sent();
                        this.signsLookupService.loadSigns();
                        return [2 /*return*/];
                }
            });
        });
    };
    SettingsService.prototype.setUILanguage = function (language) {
        this.translateService.use(language);
        this.storageService.saveUILanguage(language);
    };
    SettingsService.prototype.getUILanguage = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.storageService.getUILanguage()];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    SettingsService.prototype.setFirstTime = function () {
        this.storageService.saveFirstTime();
    };
    SettingsService.prototype.getFirstTime = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.storageService.getFirstTime()];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    SettingsService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_spml_service__WEBPACK_IMPORTED_MODULE_4__["SpmlService"],
            _storage_service__WEBPACK_IMPORTED_MODULE_2__["StorageService"],
            _signs_lookup_service__WEBPACK_IMPORTED_MODULE_1__["SignsLookupService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["ToastController"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__["TranslateService"],
            _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpClient"]])
    ], SettingsService);
    return SettingsService;
}());



/***/ }),

/***/ "./src/app/share-ios/share-ios.module.ts":
/*!***********************************************!*\
  !*** ./src/app/share-ios/share-ios.module.ts ***!
  \***********************************************/
/*! exports provided: ShareIOSPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShareIOSPageModule", function() { return ShareIOSPageModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _share_ios_page__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./share-ios.page */ "./src/app/share-ios/share-ios.page.ts");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../shared/shared.module */ "./src/app/shared/shared.module.ts");








var routes = [
    {
        path: '',
        component: _share_ios_page__WEBPACK_IMPORTED_MODULE_6__["ShareIOSPage"]
    }
];
var ShareIOSPageModule = /** @class */ (function () {
    function ShareIOSPageModule() {
    }
    ShareIOSPageModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["IonicModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_4__["RouterModule"].forChild(routes),
                _shared_shared_module__WEBPACK_IMPORTED_MODULE_7__["SharedModule"]
            ],
            declarations: [_share_ios_page__WEBPACK_IMPORTED_MODULE_6__["ShareIOSPage"]]
        })
    ], ShareIOSPageModule);
    return ShareIOSPageModule;
}());



/***/ }),

/***/ "./src/app/share-ios/share-ios.page.html":
/*!***********************************************!*\
  !*** ./src/app/share-ios/share-ios.page.html ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <ion-toolbar>\n    <ion-title>Share iOS</ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-button color=\"primary\"   (click)=\"close()\">\n        <ion-icon name=\"close-circle\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content padding>\n  <!-- <img [src]=\"getimage()\" [style.height.px]=\"contentHeight\" [style.width.px]=\"contentWidth\" />\n  <hr>\n  <img [src]=\"getRemoteImage()\" [style.height.px]=\"contentHeight\" [style.width.px]=\"contentWidth\" />\n  <hr> -->\n  <a target=\"_blank\" [href]=\"getimage()\">New Image 1</a>\n  <hr>\n  <a target=\"_blank\" [href]=\"getRemoteImage()\">New Image 2</a>\n</ion-content>"

/***/ }),

/***/ "./src/app/share-ios/share-ios.page.scss":
/*!***********************************************!*\
  !*** ./src/app/share-ios/share-ios.page.scss ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlLWlvcy9zaGFyZS1pb3MucGFnZS5zY3NzIn0= */"

/***/ }),

/***/ "./src/app/share-ios/share-ios.page.ts":
/*!*********************************************!*\
  !*** ./src/app/share-ios/share-ios.page.ts ***!
  \*********************************************/
/*! exports provided: ShareIOSPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShareIOSPage", function() { return ShareIOSPage; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var uuidv4__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! uuidv4 */ "./node_modules/uuidv4/build/lib/uuidv4.js");
/* harmony import */ var uuidv4__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(uuidv4__WEBPACK_IMPORTED_MODULE_5__);






var ShareIOSPage = /** @class */ (function () {
    function ShareIOSPage(modalController, toastController, sanitizer, http) {
        this.modalController = modalController;
        this.toastController = toastController;
        this.sanitizer = sanitizer;
        this.http = http;
    }
    ShareIOSPage.prototype.ngOnInit = function () {
        this.swCanvas = this.canvas;
        this.saveToRemote(this.imagebase64);
    };
    ShareIOSPage.prototype.saveToRemote = function (imagebase64) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var serverUrl, path, requestBody;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                this.imageId = Object(uuidv4__WEBPACK_IMPORTED_MODULE_5__["uuid"])();
                serverUrl = 'https://swsignwriterapi.azurewebsites.net/';
                path = 'api/image/save';
                requestBody = {
                    'imageId': this.imageId,
                    'privatekey': '**GSew10o0uJiAg4qpTAvQ$KEMaCjC6P7@su2Dd1C9#a8Y$VISWXzYogPhYk&N6p5&cGb1k@nGFX',
                    'dataUrl': imagebase64
                };
                this.http.post(serverUrl + path, requestBody)
                    .toPromise()
                    .then(function () { }, function (error) {
                    console.log(error);
                });
                return [2 /*return*/];
            });
        });
    };
    ShareIOSPage.prototype.close = function () {
        this.modalController.dismiss({
            result: 'cancel'
        });
    };
    ShareIOSPage.prototype.getimage = function () {
        this.contentHeight = this.swCanvas.height / 4;
        this.contentWidth = this.swCanvas.width / 4;
        return this.sanitizer.bypassSecurityTrustResourceUrl('' + this.imagebase64);
    };
    ShareIOSPage.prototype.sleep = function (milliseconds) {
        var date = Date.now();
        var currentDate = null;
        do {
            currentDate = Date.now();
        } while (currentDate - date < milliseconds);
    };
    ShareIOSPage.prototype.getRemoteImage = function () {
        this.sleep(200);
        var serverUrl = 'https://swsignwriterapi.azurewebsites.net/';
        // const serverUrl = 'https://localhost:44309/';
        return serverUrl + 'Content/SignWriting/' + this.imageId + '.png';
    };
    ShareIOSPage.prototype.socialShare = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var self, navShare;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        self = this;
                        navShare = window.navigator;
                        if (!navShare.share) return [3 /*break*/, 1];
                        this.canvas.toBlob(function (blob) {
                            var _this = this;
                            var filename = 'signWriting.png';
                            var fd = new FormData();
                            var files = [];
                            fd.append('SignWriting', blob, filename);
                            for (var _i = 0, _a = fd.getAll('file'); _i < _a.length; _i++) {
                                var newfile = _a[_i];
                                files.push(newfile);
                            }
                            navShare.share({
                                files: files
                            }).then(function () { return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](_this, void 0, void 0, function () {
                                return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                                    switch (_a.label) {
                                        case 0: return [4 /*yield*/, self.presentToast('Thanks for sharing!')];
                                        case 1:
                                            _a.sent();
                                            console.log('Thanks for sharing!');
                                            return [2 /*return*/];
                                    }
                                });
                            }); })
                                .catch(console.error);
                        });
                        return [3 /*break*/, 3];
                    case 1: return [4 /*yield*/, self.presentToast('Share is not available.')];
                    case 2:
                        _a.sent();
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    ShareIOSPage.prototype.copyToClipboard = function (event) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var self, canvas_1, error_1;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        self = this;
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 2, , 4]);
                        canvas_1 = this.canvas;
                        this.canvas.toBlob(function (blob) {
                            return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
                                var clip, img, r, sel, wascopied;
                                return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                                    switch (_a.label) {
                                        case 0:
                                            if (!navigator['clipboard']) return [3 /*break*/, 1];
                                            clip = navigator['clipboard'];
                                            try {
                                                // clip.write([new ClipboardItem({ 'image/png': blob })]).then(async function () {
                                                //   await self.presentToast('Copied to clipboard successfully!');
                                                //   console.log('Copied to clipboard successfully!');
                                                // }, async function (err) {
                                                //   console.error(err);
                                                //   await self.presentToast('Unable to write to clipboard. :-(');
                                                //   console.error('Unable to write to clipboard. :-(');
                                                // });
                                            }
                                            catch (error) {
                                                clip.setImageData(blob, 'image/png');
                                            }
                                            return [3 /*break*/, 6];
                                        case 1:
                                            img = document.createElement('img');
                                            img.src = canvas_1.toDataURL();
                                            document.body.appendChild(img);
                                            r = document.createRange();
                                            r.setStartBefore(img);
                                            r.setEndAfter(img);
                                            r.selectNode(img);
                                            sel = window.getSelection();
                                            sel.addRange(r);
                                            wascopied = document.execCommand('copy');
                                            if (!!wascopied) return [3 /*break*/, 3];
                                            return [4 /*yield*/, self.presentToast('You need to right click or long press on image to copy it.')];
                                        case 2:
                                            _a.sent();
                                            alert('You need to right click or long press on image to copy it.');
                                            return [3 /*break*/, 5];
                                        case 3: return [4 /*yield*/, self.presentToast('Image was copied.')];
                                        case 4:
                                            _a.sent();
                                            _a.label = 5;
                                        case 5:
                                            img.remove();
                                            _a.label = 6;
                                        case 6: return [2 /*return*/];
                                    }
                                });
                            });
                        });
                        return [3 /*break*/, 4];
                    case 2:
                        error_1 = _a.sent();
                        return [4 /*yield*/, self.presentToast('Unable to write to clipboard. :-(')];
                    case 3:
                        _a.sent();
                        console.error('Unable to write to clipboard. :-(');
                        console.error(error_1);
                        return [3 /*break*/, 4];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    ShareIOSPage.prototype.presentToast = function (message) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var toast;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: message,
                            duration: 2000
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", HTMLCanvasElement)
    ], ShareIOSPage.prototype, "canvas", void 0);
    ShareIOSPage = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Component"])({
            selector: 'app-share-ios',
            template: __webpack_require__(/*! ./share-ios.page.html */ "./src/app/share-ios/share-ios.page.html"),
            styles: [__webpack_require__(/*! ./share-ios.page.scss */ "./src/app/share-ios/share-ios.page.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ModalController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ToastController"],
            _angular_platform_browser__WEBPACK_IMPORTED_MODULE_4__["DomSanitizer"],
            _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], ShareIOSPage);
    return ShareIOSPage;
}());



/***/ }),

/***/ "./src/app/shared/shared.module.ts":
/*!*****************************************!*\
  !*** ./src/app/shared/shared.module.ts ***!
  \*****************************************/
/*! exports provided: SharedModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SharedModule", function() { return SharedModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");




var SharedModule = /** @class */ (function () {
    function SharedModule() {
    }
    SharedModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            declarations: [],
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"]
            ],
            exports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
                _ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__["TranslateModule"]
            ]
        })
    ], SharedModule);
    return SharedModule;
}());



/***/ }),

/***/ "./src/app/show-image/show-image.module.ts":
/*!*************************************************!*\
  !*** ./src/app/show-image/show-image.module.ts ***!
  \*************************************************/
/*! exports provided: ShowImagePageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShowImagePageModule", function() { return ShowImagePageModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _show_image_page__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./show-image.page */ "./src/app/show-image/show-image.page.ts");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../shared/shared.module */ "./src/app/shared/shared.module.ts");








var routes = [
    {
        path: '',
        component: _show_image_page__WEBPACK_IMPORTED_MODULE_6__["ShowImagePage"]
    }
];
var ShowImagePageModule = /** @class */ (function () {
    function ShowImagePageModule() {
    }
    ShowImagePageModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["IonicModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_4__["RouterModule"].forChild(routes),
                _shared_shared_module__WEBPACK_IMPORTED_MODULE_7__["SharedModule"]
            ],
            declarations: [_show_image_page__WEBPACK_IMPORTED_MODULE_6__["ShowImagePage"]]
        })
    ], ShowImagePageModule);
    return ShowImagePageModule;
}());



/***/ }),

/***/ "./src/app/show-image/show-image.page.html":
/*!*************************************************!*\
  !*** ./src/app/show-image/show-image.page.html ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\r\n  <ion-toolbar>\r\n    <ion-title><ion-button (click)=\"copyToClipboard(this)\">Copy</ion-button>{{'Right-click or Long Press on image to copy or share'| translate}}</ion-title>\r\n    <ion-buttons slot=\"end\">\r\n      <ion-button color=\"primary\"   (click)=\"close()\">\r\n        <ion-icon name=\"close-circle\"></ion-icon>\r\n      </ion-button>\r\n    </ion-buttons>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content padding>\r\n  <img [src]=\"getimage()\" [style.height.px]=\"contentHeight\" [style.width.px]=\"contentWidth\" />\r\n</ion-content>\r\n\r\n"

/***/ }),

/***/ "./src/app/show-image/show-image.page.scss":
/*!*************************************************!*\
  !*** ./src/app/show-image/show-image.page.scss ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Nob3ctaW1hZ2Uvc2hvdy1pbWFnZS5wYWdlLnNjc3MifQ== */"

/***/ }),

/***/ "./src/app/show-image/show-image.page.ts":
/*!***********************************************!*\
  !*** ./src/app/show-image/show-image.page.ts ***!
  \***********************************************/
/*! exports provided: ShowImagePage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShowImagePage", function() { return ShowImagePage; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var uuidv4__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! uuidv4 */ "./node_modules/uuidv4/build/lib/uuidv4.js");
/* harmony import */ var uuidv4__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(uuidv4__WEBPACK_IMPORTED_MODULE_5__);






var ShowImagePage = /** @class */ (function () {
    function ShowImagePage(modalController, toastController, sanitizer, http) {
        this.modalController = modalController;
        this.toastController = toastController;
        this.sanitizer = sanitizer;
        this.http = http;
    }
    ShowImagePage.prototype.ngOnInit = function () {
        this.swCanvas = this.canvas;
        this.saveToRemote(this.imagebase64);
    };
    ShowImagePage.prototype.saveToRemote = function (imagebase64) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var serverUrl, path, requestBody;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                this.imageId = Object(uuidv4__WEBPACK_IMPORTED_MODULE_5__["uuid"])();
                serverUrl = 'https://swsignwriterapi.azurewebsites.net/';
                path = 'api/image/save';
                requestBody = {
                    'imageId': this.imageId,
                    'privatekey': '**GSew10o0uJiAg4qpTAvQ$KEMaCjC6P7@su2Dd1C9#a8Y$VISWXzYogPhYk&N6p5&cGb1k@nGFX',
                    'dataUrl': imagebase64
                };
                this.http.post(serverUrl + path, requestBody)
                    .toPromise()
                    .then(function () { }, function (error) {
                    console.log(error);
                });
                return [2 /*return*/];
            });
        });
    };
    ShowImagePage.prototype.close = function () {
        this.modalController.dismiss({
            result: 'cancel'
        });
    };
    ShowImagePage.prototype.getimage = function () {
        this.contentHeight = this.swCanvas.height / 4;
        this.contentWidth = this.swCanvas.width / 4;
        return this.sanitizer.bypassSecurityTrustResourceUrl('' + this.imagebase64);
    };
    ShowImagePage.prototype.sleep = function (milliseconds) {
        var date = Date.now();
        var currentDate = null;
        do {
            currentDate = Date.now();
        } while (currentDate - date < milliseconds);
    };
    ShowImagePage.prototype.getRemoteImage = function () {
        this.sleep(200);
        var serverUrl = 'https://swsignwriterapi.azurewebsites.net/';
        // const serverUrl = 'https://localhost:44309/';
        return serverUrl + 'Content/SignWriting/' + this.imageId + '.png';
    };
    ShowImagePage.prototype.socialShare = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var self, navShare;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        self = this;
                        navShare = window.navigator;
                        if (!navShare.share) return [3 /*break*/, 1];
                        this.canvas.toBlob(function (blob) {
                            var _this = this;
                            var filename = 'signWriting.png';
                            var fd = new FormData();
                            var files = [];
                            fd.append('SignWriting', blob, filename);
                            for (var _i = 0, _a = fd.getAll('file'); _i < _a.length; _i++) {
                                var newfile = _a[_i];
                                files.push(newfile);
                            }
                            navShare.share({
                                files: files
                            }).then(function () { return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](_this, void 0, void 0, function () {
                                return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                                    switch (_a.label) {
                                        case 0: return [4 /*yield*/, self.presentToast('Thanks for sharing!')];
                                        case 1:
                                            _a.sent();
                                            console.log('Thanks for sharing!');
                                            return [2 /*return*/];
                                    }
                                });
                            }); })
                                .catch(console.error);
                        });
                        return [3 /*break*/, 3];
                    case 1: return [4 /*yield*/, self.presentToast('Share is not available.')];
                    case 2:
                        _a.sent();
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    ShowImagePage.prototype.copyToClipboard = function (event) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var self, canvas_1, error_1;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        self = this;
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 2, , 4]);
                        canvas_1 = this.canvas;
                        this.canvas.toBlob(function (blob) {
                            return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
                                var clip, img, r, sel, wascopied;
                                return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                                    switch (_a.label) {
                                        case 0:
                                            if (!navigator['clipboard']) return [3 /*break*/, 1];
                                            clip = navigator['clipboard'];
                                            try {
                                                clip.write([new ClipboardItem({ 'image/png': blob })]).then(function () {
                                                    return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
                                                        return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                                                            switch (_a.label) {
                                                                case 0: return [4 /*yield*/, self.presentToast('Copied to clipboard successfully!')];
                                                                case 1:
                                                                    _a.sent();
                                                                    console.log('Copied to clipboard successfully!');
                                                                    return [2 /*return*/];
                                                            }
                                                        });
                                                    });
                                                }, function (err) {
                                                    return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
                                                        return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                                                            switch (_a.label) {
                                                                case 0:
                                                                    console.error(err);
                                                                    return [4 /*yield*/, self.presentToast('Unable to write to clipboard. :-(')];
                                                                case 1:
                                                                    _a.sent();
                                                                    console.error('Unable to write to clipboard. :-(');
                                                                    return [2 /*return*/];
                                                            }
                                                        });
                                                    });
                                                });
                                            }
                                            catch (error) {
                                                clip.setImageData(blob, 'image/png');
                                            }
                                            return [3 /*break*/, 6];
                                        case 1:
                                            img = document.createElement('img');
                                            img.src = canvas_1.toDataURL();
                                            document.body.appendChild(img);
                                            r = document.createRange();
                                            r.setStartBefore(img);
                                            r.setEndAfter(img);
                                            r.selectNode(img);
                                            sel = window.getSelection();
                                            sel.addRange(r);
                                            wascopied = document.execCommand('copy');
                                            if (!!wascopied) return [3 /*break*/, 3];
                                            return [4 /*yield*/, self.presentToast('You need to right click or long press on image to copy it.')];
                                        case 2:
                                            _a.sent();
                                            alert('You need to right click or long press on image to copy it.');
                                            return [3 /*break*/, 5];
                                        case 3: return [4 /*yield*/, self.presentToast('Image was copied.')];
                                        case 4:
                                            _a.sent();
                                            _a.label = 5;
                                        case 5:
                                            img.remove();
                                            _a.label = 6;
                                        case 6: return [2 /*return*/];
                                    }
                                });
                            });
                        });
                        return [3 /*break*/, 4];
                    case 2:
                        error_1 = _a.sent();
                        return [4 /*yield*/, self.presentToast('Unable to write to clipboard. :-(')];
                    case 3:
                        _a.sent();
                        console.error('Unable to write to clipboard. :-(');
                        console.error(error_1);
                        return [3 /*break*/, 4];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    ShowImagePage.prototype.presentToast = function (message) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var toast;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: message,
                            duration: 2000
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", HTMLCanvasElement)
    ], ShowImagePage.prototype, "canvas", void 0);
    ShowImagePage = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Component"])({
            selector: 'app-show-image',
            template: __webpack_require__(/*! ./show-image.page.html */ "./src/app/show-image/show-image.page.html"),
            styles: [__webpack_require__(/*! ./show-image.page.scss */ "./src/app/show-image/show-image.page.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ModalController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ToastController"],
            _angular_platform_browser__WEBPACK_IMPORTED_MODULE_4__["DomSanitizer"],
            _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], ShowImagePage);
    return ShowImagePage;
}());



/***/ }),

/***/ "./src/app/signs-lookup.service.ts":
/*!*****************************************!*\
  !*** ./src/app/signs-lookup.service.ts ***!
  \*****************************************/
/*! exports provided: Lane, SignsLookupService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Lane", function() { return Lane; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SignsLookupService", function() { return SignsLookupService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _normalization_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./normalization.service */ "./src/app/normalization.service.ts");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");




var Lane;
(function (Lane) {
    Lane[Lane["Left"] = 0] = "Left";
    Lane[Lane["Middle"] = 1] = "Middle";
    Lane[Lane["Right"] = 2] = "Right";
})(Lane || (Lane = {}));
var SignsLookupService = /** @class */ (function () {
    function SignsLookupService(storage, normalize) {
        this.storage = storage;
        this.normalize = normalize;
    }
    SignsLookupService.prototype.ngOnInit = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadSigns()];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    SignsLookupService.prototype.loadSigns = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var self, puddles;
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        self = this;
                        this.entrylist = [];
                        return [4 /*yield*/, this.storage.get('puddles')];
                    case 1:
                        puddles = _a.sent();
                        if (puddles) {
                            puddles.forEach(function (puddle) { return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](_this, void 0, void 0, function () {
                                var puddleentries;
                                var _this = this;
                                return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                                    switch (_a.label) {
                                        case 0: return [4 /*yield*/, this.storage.get(puddle)];
                                        case 1:
                                            puddleentries = _a.sent();
                                            puddleentries.entries.forEach(function (entry) {
                                                entry.glosses.forEach(function (gloss) {
                                                    _this.entrylist.push({
                                                        normalized: _this.normalize.normalizeForSearch(gloss),
                                                        gloss: gloss,
                                                        key: entry.key,
                                                        fsw: entry.fsw
                                                    });
                                                });
                                            });
                                            this.words = this.getAvailableWords();
                                            return [2 /*return*/];
                                    }
                                });
                            }); });
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    SignsLookupService.prototype.search = function (text) {
        var result = [];
        var substring = [];
        var count = 0;
        var substringcount = 0;
        var text1 = text ? text.trim() : '';
        var searchtext = this.normalize.normalizeForSearch(text1);
        if (this.entrylist) {
            for (var i = 0; i < this.entrylist.length; i++) {
                var entry = this.entrylist[i];
                if (searchtext.length > 2) {
                    if (entry.normalized.startsWith(searchtext)) {
                        result.push(entry);
                        count++;
                    }
                    else if (entry.normalized.includes(searchtext)) {
                        substring.push(entry);
                        substringcount++;
                    }
                }
                else if (searchtext.length > 0) {
                    if (entry.normalized === searchtext || entry.normalized.startsWith(searchtext + '-')) {
                        result.push(entry);
                        count++;
                    }
                }
            }
        }
        // show substring matches if no start of line found
        if (count === 0 && substringcount > 0) {
            result = substring;
        }
        var finalresult;
        var unique = this.arrayUnique(result);
        if (unique.length > 25) {
            finalresult = unique.filter(function (x) { return x.gloss.length === text.length; });
        }
        else {
            finalresult = unique;
        }
        finalresult.sort(function (a, b) {
            if (a.gloss > b.gloss) {
                return 1;
            }
            if (a.gloss < b.gloss) {
                return -1;
            }
            // a must be equal to b
            return 0;
        });
        return finalresult;
    };
    SignsLookupService.prototype.arrayUnique = function (arr) {
        var existingkeys = [];
        var keep = [];
        arr.forEach(function (element) {
            if (!existingkeys.includes(element.key)) {
                existingkeys.push(element.key);
                keep.push(element);
            }
        });
        return keep;
    };
    SignsLookupService.prototype.getsign = function (key) {
        return this.entrylist.find(function (entry) { return entry.key === key; });
    };
    SignsLookupService.prototype.getAvailableWords = function () {
        var uniqueWords = [];
        var map = new Map();
        for (var i = 0; i < this.entrylist.length; i++) {
            var entry = this.entrylist[i];
            var gloss = entry.gloss;
            if (!map.has(gloss)) {
                map.set(gloss, true);
                uniqueWords.push({ gloss: gloss, normalized: entry.normalized });
            }
        }
        var sorted = uniqueWords.sort(function (x, y) {
            if (x.gloss < y.gloss) {
                return -1;
            }
            else if (x > y) {
                return 1;
            }
            else {
                return 0;
            }
        });
        return sorted;
    };
    // Available words
    SignsLookupService.prototype.showAvailableWords = function (text) {
        var words = text.split(' ');
        var keyword = words.length > 0 ? words[words.length - 1] : '';
        return this.getResults(this.words, keyword);
    };
    SignsLookupService.prototype.getResults = function (availableWords, keyword) {
        if (availableWords && keyword && keyword !== '') {
            var maxResults = 12;
            var startsWith = [];
            var contains = [];
            var lwrCaseKeyword = keyword.toLowerCase();
            var i = 0;
            for (var _i = 0, availableWords_1 = availableWords; _i < availableWords_1.length; _i++) {
                var element = availableWords_1[_i];
                if (element && element.gloss && element.gloss.toLowerCase().startsWith(lwrCaseKeyword)) {
                    startsWith.push(element);
                    i++;
                }
                else if (element && element.normalized && element.normalized.toLowerCase().startsWith(lwrCaseKeyword)) {
                    startsWith.push(element);
                    i++;
                }
                else if (element && element.gloss && element.gloss.toLowerCase().indexOf(lwrCaseKeyword) !== -1) {
                    contains.push(element);
                }
                else if (element && element.normalized && element.normalized.toLowerCase().indexOf(lwrCaseKeyword) !== -1) {
                    contains.push(element);
                }
                if (i >= maxResults) {
                    break;
                }
            }
            var result = [];
            result = startsWith.slice(0, maxResults);
            if (result.length < maxResults) {
                result.concat(contains.slice(0, maxResults - result.length));
            }
            return result;
        }
        else {
            return [];
        }
    };
    SignsLookupService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ionic_storage__WEBPACK_IMPORTED_MODULE_3__["Storage"],
            _normalization_service__WEBPACK_IMPORTED_MODULE_2__["NormalizationService"]])
    ], SignsLookupService);
    return SignsLookupService;
}());



/***/ }),

/***/ "./src/app/social-sharing.service.ts":
/*!*******************************************!*\
  !*** ./src/app/social-sharing.service.ts ***!
  \*******************************************/
/*! exports provided: SocialSharingService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SocialSharingService", function() { return SocialSharingService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_native_social_sharing_ngx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic-native/social-sharing/ngx */ "./node_modules/@ionic-native/social-sharing/ngx/index.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");




var SocialSharingService = /** @class */ (function () {
    function SocialSharingService(socialSharing, translateService) {
        this.socialSharing = socialSharing;
        this.translateService = translateService;
    }
    SocialSharingService.prototype.share = function (image) {
        var _this = this;
        // Check if sharing via email is supported
        this.socialSharing
            .canShareViaEmail()
            .then(function () {
            alert(_this.translateService.instant('Sharing via email is possible'));
            // Sharing via email is possible
            // Share via email
            _this.socialSharing
                .shareViaEmail(_this.translateService.instant('Body') + image, _this.translateService.instant('Subject'), ['duncanjonathan@yahoo.ca'])
                .then(function () {
                alert(_this.translateService.instant('email sent'));
                // Success!
            })
                .catch(function () {
                alert(_this.translateService.instant('Error sending email'));
                // Error!
            });
        })
            .catch(function () {
            // Sharing via email is not possible
            alert(_this.translateService.instant('Social sharing by email not available'));
        });
        this.socialSharing
            .canShareVia('whatsapp')
            .then(function () {
            alert(_this.translateService.instant('Sharing via whatsapp is possible'));
            // Sharing via whatsapp is possible
            // Share via whatsapp
            _this.socialSharing
                .shareViaWhatsApp(_this.translateService.instant('Body'), image.src, null)
                .then(function () {
                alert(_this.translateService.instant('whatsapp sent'));
                // Success!
            })
                .catch(function () {
                alert(_this.translateService.instant('Error sending whatsapp'));
                // Error!
            });
        })
            .catch(function () {
            // Sharing via whatsapp is not possible
            alert(_this.translateService.instant('Social sharing by whatsapp not available'));
        });
    };
    SocialSharingService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ionic_native_social_sharing_ngx__WEBPACK_IMPORTED_MODULE_2__["SocialSharing"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__["TranslateService"]])
    ], SocialSharingService);
    return SocialSharingService;
}());



/***/ }),

/***/ "./src/app/spml.service.ts":
/*!*********************************!*\
  !*** ./src/app/spml.service.ts ***!
  \*********************************/
/*! exports provided: SpmlService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SpmlService", function() { return SpmlService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var xml_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! xml-js */ "./node_modules/xml-js/lib/index.js");
/* harmony import */ var xml_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(xml_js__WEBPACK_IMPORTED_MODULE_2__);



var SpmlService = /** @class */ (function () {
    function SpmlService() {
    }
    SpmlService.prototype.convertspml = function (xml) {
        var spmljs = xml_js__WEBPACK_IMPORTED_MODULE_2__["xml2js"](xml, { compact: false });
        var puddleInfo = spmljs.elements[1].attributes;
        var result = {
            puddleInfo: puddleInfo,
            entries: this.createEntries(spmljs, puddleInfo.puddle)
        };
        return result;
    };
    SpmlService.prototype.createEntries = function (spmljs, puddle) {
        var _this = this;
        var entries = [];
        var elements = spmljs.elements[1].elements;
        // iterate over spmljs.elements[1].elements
        elements.forEach(function (element) {
            if (element && element.name === 'entry') {
                var entry = _this.createEntry(element, puddle);
                if ((entry.fsw && entry.fsw !== '') || entry.glosses.length === 0) {
                    entries.push(entry);
                }
                else {
                    console.log('Bad spml entry');
                    console.log(element);
                    console.log(entry);
                }
            }
        });
        return entries;
    };
    SpmlService.prototype.createEntry = function (element, puddle) {
        var key = element.attributes.uuid;
        if (!key) {
            key = puddle + '_' + element.attributes.id;
        }
        var newEntry = {
            attributes: element.attributes,
            glosses: [],
            key: key,
            fsw: ''
        };
        this.addFswGlosses(element, newEntry);
        return newEntry;
    };
    SpmlService.prototype.addFswGlosses = function (element, newEntry) {
        var self = this;
        // iterate over spmljs.elements[1].elements[].elements
        if (element && element.elements) {
            element.elements.forEach(function (entryelement) {
                // iterate over spmljs.elements[1].elements[].elements[].elements
                if (entryelement &&
                    (entryelement.name === 'term') &&
                    entryelement.elements) {
                    entryelement.elements.forEach(function (node) {
                        if (node.type === 'text') {
                            newEntry.fsw = node.text;
                        }
                        else if (node.type === 'cdata') {
                            newEntry.glosses.push(self.cleangloss(node.cdata));
                        }
                    });
                }
            });
        }
    };
    SpmlService.prototype.cleangloss = function (gloss) {
        if (gloss.indexOf('SWS-TAG') !== -1) {
            gloss = '';
        }
        if (gloss && gloss.length > 1) {
            return gloss.trim().replace('  ', ' ').replace('   ', ' ').replace('    ', ' ').replace('     ', ' ')
                .replace(',', '').replace('.', '').replace('?', '')
                .replace('!', '').replace('(', '').replace(')', '').replace('"', '').replace(/\s+/g, '-')
                .replace('--', '-').replace('---', '-').replace('----', '-');
        }
        else {
            return gloss;
        }
    };
    SpmlService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], SpmlService);
    return SpmlService;
}());



/***/ }),

/***/ "./src/app/storage.service.ts":
/*!************************************!*\
  !*** ./src/app/storage.service.ts ***!
  \************************************/
/*! exports provided: StorageService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StorageService", function() { return StorageService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");



var StorageService = /** @class */ (function () {
    function StorageService(storage) {
        this.storage = storage;
        this.puddleskey = 'puddles';
        this.defaultkey = 'default';
        this.uiLanguagekey = 'uiLanguage';
        this.userCurrentProfilekey = 'userCurrentProfile';
        this.firstTimekey = 'firstTime';
    }
    StorageService.prototype.puddlesExists = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var puddles;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.storage.get(this.puddleskey)];
                    case 1:
                        puddles = _a.sent();
                        if (puddles) {
                            return [2 /*return*/, true];
                        }
                        else {
                            return [2 /*return*/, false];
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    StorageService.prototype.savePuddle = function (puddlename, result) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.storage.set(puddlename, result)];
                    case 1:
                        _a.sent();
                        // Save to list of existing puddles
                        return [4 /*yield*/, this.savePuddleName(puddlename)];
                    case 2:
                        // Save to list of existing puddles
                        _a.sent();
                        return [2 /*return*/, { puddlename: puddlename, entries: result.entries.length }];
                }
            });
        });
    };
    StorageService.prototype.savePuddleName = function (puddlename) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var puddles;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.storage.get(this.puddleskey)];
                    case 1:
                        puddles = _a.sent();
                        if (!puddles) {
                            puddles = [];
                        }
                        if (!!puddles.includes(puddlename)) return [3 /*break*/, 3];
                        puddles.push(puddlename);
                        return [4 /*yield*/, this.storage.set(this.puddleskey, puddles)];
                    case 2:
                        _a.sent();
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    StorageService.prototype.setDefaultPuddleLoaded = function (defaultPuddle) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.storage.set(this.defaultkey, defaultPuddle)];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    StorageService.prototype.getDefaultPuddleLoaded = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.storage.get(this.defaultkey)];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    StorageService.prototype.removeDefaultPuddles = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var defaultPuddle;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.getDefaultPuddleLoaded()];
                    case 1:
                        defaultPuddle = _a.sent();
                        if (!defaultPuddle) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.removeAllPuddles()];
                    case 2:
                        _a.sent();
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    StorageService.prototype.removeAllPuddles = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.storage.get(this.puddleskey).then(function (puddles) { return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](_this, void 0, void 0, function () {
                            var _this = this;
                            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                                switch (_a.label) {
                                    case 0:
                                        if (!puddles) return [3 /*break*/, 2];
                                        puddles.forEach(function (puddle) { return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](_this, void 0, void 0, function () {
                                            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                                                switch (_a.label) {
                                                    case 0:
                                                        if (!(puddle && puddle.startsWith('puddle_'))) return [3 /*break*/, 2];
                                                        return [4 /*yield*/, this.storage.remove(puddle)];
                                                    case 1:
                                                        _a.sent();
                                                        _a.label = 2;
                                                    case 2: return [2 /*return*/];
                                                }
                                            });
                                        }); });
                                        return [4 /*yield*/, this.storage.remove(this.puddleskey)];
                                    case 1:
                                        _a.sent();
                                        _a.label = 2;
                                    case 2: return [2 /*return*/];
                                }
                            });
                        }); })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    StorageService.prototype.saveUILanguage = function (language) {
        this.storage.set(this.uiLanguagekey, language);
    };
    StorageService.prototype.getUILanguage = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.storage.get(this.uiLanguagekey)];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    StorageService.prototype.SaveCurrentUserProfile = function (userProfile) {
        this.storage.set(this.userCurrentProfilekey, userProfile);
    };
    StorageService.prototype.GetCurrentUserProfile = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.storage.get(this.userCurrentProfilekey)];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    StorageService.prototype.getFirstTime = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var _a;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _b.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, this.storage.get(this.firstTimekey)];
                    case 1: return [2 /*return*/, _b.sent()];
                    case 2:
                        _a = _b.sent();
                        return [2 /*return*/, true];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    StorageService.prototype.saveFirstTime = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.storage.set(this.firstTimekey, false)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    StorageService.prototype.SaveSubscription = function (email, endDate, cancelatperiodend) {
        var key = this.Obfuscate(email + 'subscriptionEndDate');
        var subscription = this.Obfuscate(JSON.stringify({ endDate: endDate, cancelatperiodend: cancelatperiodend }));
        this.storage.set(key, subscription);
    };
    StorageService.prototype.GetSubscription = function (email) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var key, value, subscription, cleaned;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        key = this.Obfuscate(email + 'subscriptionEndDate');
                        return [4 /*yield*/, this.storage.get(key)];
                    case 1:
                        value = _a.sent();
                        if (value) {
                            cleaned = this.Clean(value);
                            subscription = JSON.parse(atob(cleaned));
                        }
                        return [2 /*return*/, subscription];
                }
            });
        });
    };
    StorageService.prototype.Clean = function (value) {
        if (value) {
            var stripped = value.replace(/[^A-Za-z0-9+-]/g, '');
            return stripped;
        }
        return null;
    };
    StorageService.prototype.Obfuscate = function (str) {
        var obf1 = '%%' + btoa(str) + '%%';
        var insert = ['!', '"', '#', '$', '%', '&', '(', ')', '*'];
        var count = 0;
        for (var index = 0; index < obf1.length; index++) {
            var element = obf1[index];
            if (index % 5 === 0) {
                count = count > 8 ? 0 : count;
                obf1 = this.InsertChar(obf1, insert[count], index);
            }
        }
        return obf1;
    };
    StorageService.prototype.InsertChar = function (a, b, index) {
        return a.substr(0, index) + b + a.substr(index);
    };
    StorageService.prototype.GetTrialStartDate = function (email) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var key, value, cleaned, endDate;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        key = this.Obfuscate(email + 'trialStartDate');
                        return [4 /*yield*/, this.storage.get(key)];
                    case 1:
                        value = _a.sent();
                        cleaned = atob(this.Clean(value));
                        if (cleaned && cleaned !== 'e') {
                            endDate = new Date(cleaned);
                            return [2 /*return*/, endDate];
                        }
                        else {
                            return [2 /*return*/, null];
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    StorageService.prototype.SaveTrialStartDate = function (email, startDate) {
        var key = this.Obfuscate(email + 'trialStartDate');
        var date = this.Obfuscate(startDate.toString());
        this.storage.set(key, date);
    };
    StorageService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ionic_storage__WEBPACK_IMPORTED_MODULE_2__["Storage"]])
    ], StorageService);
    return StorageService;
}());



/***/ }),

/***/ "./src/app/stripe.service.ts":
/*!***********************************!*\
  !*** ./src/app/stripe.service.ts ***!
  \***********************************/
/*! exports provided: StripeService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StripeService", function() { return StripeService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _storage_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./storage.service */ "./src/app/storage.service.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");




var StripeService = /** @class */ (function () {
    function StripeService(http, storage) {
        this.http = http;
        this.storage = storage;
        this.serverUrl = 'https://swsignwriterapi.azurewebsites.net/';
    }
    StripeService.prototype.GetandSaveStripeSubscriptionData = function (email, sessionId) {
        if (sessionId === void 0) { sessionId = null; }
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var subscriptionData, data;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                switch (_a.label) {
                    case 0:
                        subscriptionData = {
                            privatekey: '**GSew10o0uJiAg4qpTAvQ$KEMaCjC6P7@su2Dd1C9#a8Y$VISWXzYogPhYk&N6p5&cGb1k@nGFX',
                            email: email,
                            sessionId: sessionId
                        };
                        debugger;
                        return [4 /*yield*/, this.http.post(this.serverUrl + 'api/stripe/session', subscriptionData, {
                                headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpHeaders"]({
                                    Accept: 'application/json',
                                    'Content-Type': 'application/json'
                                })
                            }).toPromise()];
                    case 1:
                        data = _a.sent();
                        debugger;
                        if (data) {
                            this.storage.SaveSubscription(data.Email, data.SubscriptionEndDate, data.CancelAtPeriodEnd);
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    StripeService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"],
            _storage_service__WEBPACK_IMPORTED_MODULE_1__["StorageService"]])
    ], StripeService);
    return StripeService;
}());



/***/ }),

/***/ "./src/app/synch-arrays.service.ts":
/*!*****************************************!*\
  !*** ./src/app/synch-arrays.service.ts ***!
  \*****************************************/
/*! exports provided: SynchArraysService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SynchArraysService", function() { return SynchArraysService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");



var SynchArraysService = /** @class */ (function () {
    function SynchArraysService(translateService) {
        this.translateService = translateService;
    }
    SynchArraysService.prototype.synchzip = function (a, b, gettera, getterb, blank) {
        var _a = this.synch(a, b, gettera, getterb, blank), array1 = _a[0], array2 = _a[1];
        return this.zip(array1, array2);
    };
    SynchArraysService.prototype.zip = function (a, b) {
        if (a.length !== b.length) {
            throw new Error(this.translateService.instant('Both arrays must be of the same length'));
        }
        var c = [];
        for (var i = 0; i < a.length; i++) {
            c.push({ item1: a[i], item2: b[i] });
        }
        return c;
    };
    SynchArraysService.prototype.synch = function (a, b, gettera, getterb, blank) {
        var diff = a.length - b.length;
        var result;
        switch (diff) {
            case -1:
                result = this.remove1(a, b, gettera, getterb);
                break;
            case 0:
                result = [a, b];
                break;
            case 1:
                result = this.add1(a, b, gettera, getterb, blank);
                break;
            default:
                if (diff < -1) {
                    result = this.removemore(a, b, gettera, getterb, blank);
                }
                else if (diff > 1) {
                    result = this.add1(a, b, gettera, getterb, blank);
                }
        }
        return result;
    };
    SynchArraysService.prototype.add1 = function (a, b, gettera, getterb, blank) {
        var aprime = [];
        var bprime = [];
        var offset = 0;
        for (var i = 0; i < a.length; i++) {
            if (a && a[i] && b && b[i - offset] && gettera(a[i]) === getterb(b[i - offset])) {
                aprime.push(a[i]);
                bprime.push(b[i - offset]);
            }
            else {
                aprime.push(a[i]);
                bprime.push(blank);
                offset = 1;
            }
        }
        return [aprime, bprime];
    };
    SynchArraysService.prototype.remove1 = function (a, b, gettera, getterb) {
        var aprime = [];
        var bprime = [];
        var offset = 1;
        for (var i = 0; i < a.length; i++) {
            if (gettera(a[i] === getterb(b[i]))) {
                aprime.push(a[i]);
                bprime.push(b[i]);
            }
            else if (gettera(a[i] === getterb(b[i + offset]))) {
                aprime.push(a[i]);
                bprime.push(b[i + offset]);
            }
        }
        return [aprime, bprime];
    };
    SynchArraysService.prototype.removemore = function (a, b, gettera, getterb, blank) {
        var aprime = [];
        var bprime = [];
        for (var i = 0; i < a.length; i++) {
            aprime.push(a[i]);
            if (gettera(a[i] === getterb(b[i]))) {
                bprime.push(b[i]);
            }
            else {
                var match = void 0;
                for (var j = i + 1; j < b.length; j++) {
                    if (gettera(a[i] === getterb(b[j]))) {
                        match = b[j];
                    }
                }
                if (match) {
                    bprime.push(match);
                }
                else {
                    bprime.push(blank);
                }
            }
        }
        return [aprime, bprime];
    };
    SynchArraysService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__["TranslateService"]])
    ], SynchArraysService);
    return SynchArraysService;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
/* harmony import */ var zone_js_dist_zone_error__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zone.js/dist/zone-error */ "./node_modules/zone.js/dist/zone-error.js");
/* harmony import */ var zone_js_dist_zone_error__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(zone_js_dist_zone_error__WEBPACK_IMPORTED_MODULE_0__);
// This file can be replaced during build by using the `fileReplacements` array.
// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.
// The list of file replacements can be found in `angular.json`.

var environment = {
    production: false
};
/*
 * For easier debugging in development mode, you can import the following file
 * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.
 *
 * This import should be commented out in production mode because it will have a negative impact
 * on performance if an error is thrown.
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");




if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"])
    .catch(function (err) { return console.log(err); });


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! H:\SWSignWriter\SWSignWriter-App\src\main.ts */"./src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map
{"ast":null,"code":"(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : global.cordovaSQLiteDriver = factory();\n})(this, function () {\n  'use strict';\n\n  function getSerializerPromise(localForageInstance) {\n    if (getSerializerPromise.result) {\n      return getSerializerPromise.result;\n    }\n\n    if (!localForageInstance || typeof localForageInstance.getSerializer !== 'function') {\n      return Promise.reject(new Error('localforage.getSerializer() was not available! ' + 'localforage v1.4+ is required!'));\n    }\n\n    getSerializerPromise.result = localForageInstance.getSerializer();\n    return getSerializerPromise.result;\n  }\n\n  function getDriverPromise(localForageInstance, driverName) {\n    getDriverPromise.result = getDriverPromise.result || {};\n\n    if (getDriverPromise.result[driverName]) {\n      return getDriverPromise.result[driverName];\n    }\n\n    if (!localForageInstance || typeof localForageInstance.getDriver !== 'function') {\n      return Promise.reject(new Error('localforage.getDriver() was not available! ' + 'localforage v1.4+ is required!'));\n    }\n\n    getDriverPromise.result[driverName] = localForageInstance.getDriver(driverName);\n    return getDriverPromise.result[driverName];\n  }\n\n  function getWebSqlDriverPromise(localForageInstance) {\n    return getDriverPromise(localForageInstance, localForageInstance.WEBSQL);\n  }\n  /* global document, sqlitePlugin */\n  // we can't import this, since it gets defined later\n  // import sqlitePlugin from 'sqlitePlugin';\n\n\n  var deviceReady = new Promise(function (resolve, reject) {\n    if (typeof sqlitePlugin !== 'undefined') {\n      resolve();\n    } else if (typeof cordova === 'undefined') {\n      reject(new Error('cordova is not defined.'));\n    } else {\n      // Wait for Cordova to load\n      document.addEventListener(\"deviceready\", function () {\n        return resolve();\n      }, false);\n    }\n  });\n  var deviceReadyDone = deviceReady.catch(function () {\n    return Promise.resolve();\n  });\n\n  function getOpenDatabasePromise() {\n    return deviceReadyDone.then(function () {\n      if (typeof sqlitePlugin !== 'undefined' && typeof sqlitePlugin.openDatabase === 'function') {\n        return sqlitePlugin.openDatabase;\n      } else {\n        throw new Error('SQLite plugin is not present.');\n      }\n    });\n  }\n  /*\n   * Includes code from:\n   *\n   * localForage - websql driver\n   * https://github.com/mozilla/localforage\n   *\n   * Copyright (c) 2015 Mozilla\n   * Licensed under Apache 2.0 license.\n   *\n   */\n  // import localforage from 'localforage';\n  // // If cordova is not present, we can stop now.\n  // if (!globalObject.cordova) {\n  //     return;\n  // }\n  // Open the cordova sqlite plugin database (automatically creates one if one didn't\n  // previously exist), using any options set in the config.\n\n\n  function _initStorage(options) {\n    var self = this;\n    var dbInfo = {\n      db: null\n    };\n\n    if (options) {\n      for (var i in options) {\n        dbInfo[i] = typeof options[i] !== 'string' ? options[i].toString() : options[i];\n      }\n    }\n\n    var dbInfoPromise = getOpenDatabasePromise().then(function (openDatabase) {\n      return new Promise(function (resolve, reject) {\n        // Open the database; the openDatabase API will automatically\n        // create it for us if it doesn't exist.\n        try {\n          dbInfo.location = dbInfo.location || 'default';\n          dbInfo.db = openDatabase({\n            name: dbInfo.name,\n            version: String(dbInfo.version),\n            description: dbInfo.description,\n            size: dbInfo.size,\n            key: dbInfo.dbKey,\n            location: dbInfo.location\n          });\n        } catch (e) {\n          reject(e);\n        } // Create our key/value table if it doesn't exist.\n\n\n        dbInfo.db.transaction(function (t) {\n          t.executeSql('CREATE TABLE IF NOT EXISTS ' + dbInfo.storeName + ' (id INTEGER PRIMARY KEY, key unique, value)', [], function () {\n            self._dbInfo = dbInfo;\n            resolve();\n          }, function (t, error) {\n            reject(error);\n          });\n        });\n      });\n    });\n    var serializerPromise = getSerializerPromise(self);\n    var webSqlDriverPromise = getWebSqlDriverPromise(self);\n    return Promise.all([serializerPromise, webSqlDriverPromise, dbInfoPromise]).then(function (results) {\n      dbInfo.serializer = results[0];\n      return dbInfoPromise;\n    });\n  }\n\n  var cordovaSQLiteDriver = {\n    _driver: 'cordovaSQLiteDriver',\n    _initStorage: _initStorage,\n    _support: function _support() {\n      return getOpenDatabasePromise().then(function (openDatabase) {\n        return !!openDatabase;\n      }).catch(function () {\n        return false;\n      });\n    }\n  };\n\n  function wireUpDriverMethods(driver) {\n    var LibraryMethods = ['clear', 'getItem', 'iterate', 'key', 'keys', 'length', 'removeItem', 'setItem'];\n\n    function wireUpDriverMethod(driver, methodName) {\n      driver[methodName] = function () {\n        var localForageInstance = this;\n        var args = arguments;\n        return getWebSqlDriverPromise(localForageInstance).then(function (webSqlDriver) {\n          return webSqlDriver[methodName].apply(localForageInstance, args);\n        });\n      };\n    }\n\n    for (var i = 0, len = LibraryMethods.length; i < len; i++) {\n      wireUpDriverMethod(driver, LibraryMethods[i]);\n    }\n  }\n\n  wireUpDriverMethods(cordovaSQLiteDriver);\n  return cordovaSQLiteDriver;\n});","map":{"version":3,"sources":["C:/Users/Fernando Martinez/Documents/Programacion/SignWriter/Frontend JD/node_modules/localforage-cordovasqlitedriver/dist/localforage-cordovasqlitedriver.js"],"names":["global","factory","exports","module","define","amd","cordovaSQLiteDriver","getSerializerPromise","localForageInstance","result","getSerializer","Promise","reject","Error","getDriverPromise","driverName","getDriver","getWebSqlDriverPromise","WEBSQL","deviceReady","resolve","sqlitePlugin","cordova","document","addEventListener","deviceReadyDone","catch","getOpenDatabasePromise","then","openDatabase","_initStorage","options","self","dbInfo","db","i","toString","dbInfoPromise","location","name","version","String","description","size","key","dbKey","e","transaction","t","executeSql","storeName","_dbInfo","error","serializerPromise","webSqlDriverPromise","all","results","serializer","_driver","_support","wireUpDriverMethods","driver","LibraryMethods","wireUpDriverMethod","methodName","args","arguments","webSqlDriver","apply","len","length"],"mappings":"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","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global.cordovaSQLiteDriver = factory());\n}(this, (function () { 'use strict';\n\nfunction getSerializerPromise(localForageInstance) {\n    if (getSerializerPromise.result) {\n        return getSerializerPromise.result;\n    }\n    if (!localForageInstance || typeof localForageInstance.getSerializer !== 'function') {\n        return Promise.reject(new Error('localforage.getSerializer() was not available! ' + 'localforage v1.4+ is required!'));\n    }\n    getSerializerPromise.result = localForageInstance.getSerializer();\n    return getSerializerPromise.result;\n}\n\nfunction getDriverPromise(localForageInstance, driverName) {\n    getDriverPromise.result = getDriverPromise.result || {};\n    if (getDriverPromise.result[driverName]) {\n        return getDriverPromise.result[driverName];\n    }\n    if (!localForageInstance || typeof localForageInstance.getDriver !== 'function') {\n        return Promise.reject(new Error('localforage.getDriver() was not available! ' + 'localforage v1.4+ is required!'));\n    }\n    getDriverPromise.result[driverName] = localForageInstance.getDriver(driverName);\n    return getDriverPromise.result[driverName];\n}\n\nfunction getWebSqlDriverPromise(localForageInstance) {\n    return getDriverPromise(localForageInstance, localForageInstance.WEBSQL);\n}\n\n/* global document, sqlitePlugin */\n// we can't import this, since it gets defined later\n// import sqlitePlugin from 'sqlitePlugin';\n\nvar deviceReady = new Promise(function (resolve, reject) {\n    if (typeof sqlitePlugin !== 'undefined') {\n        resolve();\n    } else if (typeof cordova === 'undefined') {\n        reject(new Error('cordova is not defined.'));\n    } else {\n        // Wait for Cordova to load\n        document.addEventListener(\"deviceready\", function () {\n            return resolve();\n        }, false);\n    }\n});\n\nvar deviceReadyDone = deviceReady.catch(function () {\n    return Promise.resolve();\n});\n\nfunction getOpenDatabasePromise() {\n    return deviceReadyDone.then(function () {\n        if (typeof sqlitePlugin !== 'undefined' && typeof sqlitePlugin.openDatabase === 'function') {\n            return sqlitePlugin.openDatabase;\n        } else {\n            throw new Error('SQLite plugin is not present.');\n        }\n    });\n}\n\n/*\n * Includes code from:\n *\n * localForage - websql driver\n * https://github.com/mozilla/localforage\n *\n * Copyright (c) 2015 Mozilla\n * Licensed under Apache 2.0 license.\n *\n */\n// import localforage from 'localforage';\n// // If cordova is not present, we can stop now.\n// if (!globalObject.cordova) {\n//     return;\n// }\n\n// Open the cordova sqlite plugin database (automatically creates one if one didn't\n// previously exist), using any options set in the config.\nfunction _initStorage(options) {\n    var self = this;\n    var dbInfo = {\n        db: null\n    };\n\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = typeof options[i] !== 'string' ? options[i].toString() : options[i];\n        }\n    }\n\n    var dbInfoPromise = getOpenDatabasePromise().then(function (openDatabase) {\n        return new Promise(function (resolve, reject) {\n            // Open the database; the openDatabase API will automatically\n            // create it for us if it doesn't exist.\n            try {\n                dbInfo.location = dbInfo.location || 'default';\n                dbInfo.db = openDatabase({\n                    name: dbInfo.name,\n                    version: String(dbInfo.version),\n                    description: dbInfo.description,\n                    size: dbInfo.size,\n                    key: dbInfo.dbKey,\n                    location: dbInfo.location\n                });\n            } catch (e) {\n                reject(e);\n            }\n\n            // Create our key/value table if it doesn't exist.\n            dbInfo.db.transaction(function (t) {\n                t.executeSql('CREATE TABLE IF NOT EXISTS ' + dbInfo.storeName + ' (id INTEGER PRIMARY KEY, key unique, value)', [], function () {\n                    self._dbInfo = dbInfo;\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        });\n    });\n\n    var serializerPromise = getSerializerPromise(self);\n    var webSqlDriverPromise = getWebSqlDriverPromise(self);\n\n    return Promise.all([serializerPromise, webSqlDriverPromise, dbInfoPromise]).then(function (results) {\n        dbInfo.serializer = results[0];\n        return dbInfoPromise;\n    });\n}\n\nvar cordovaSQLiteDriver = {\n    _driver: 'cordovaSQLiteDriver',\n    _initStorage: _initStorage,\n    _support: function _support() {\n        return getOpenDatabasePromise().then(function (openDatabase) {\n            return !!openDatabase;\n        }).catch(function () {\n            return false;\n        });\n    }\n};\n\nfunction wireUpDriverMethods(driver) {\n    var LibraryMethods = ['clear', 'getItem', 'iterate', 'key', 'keys', 'length', 'removeItem', 'setItem'];\n\n    function wireUpDriverMethod(driver, methodName) {\n        driver[methodName] = function () {\n            var localForageInstance = this;\n            var args = arguments;\n            return getWebSqlDriverPromise(localForageInstance).then(function (webSqlDriver) {\n                return webSqlDriver[methodName].apply(localForageInstance, args);\n            });\n        };\n    }\n\n    for (var i = 0, len = LibraryMethods.length; i < len; i++) {\n        wireUpDriverMethod(driver, LibraryMethods[i]);\n    }\n}\n\nwireUpDriverMethods(cordovaSQLiteDriver);\n\nreturn cordovaSQLiteDriver;\n\n})));\n"]},"metadata":{},"sourceType":"script"}
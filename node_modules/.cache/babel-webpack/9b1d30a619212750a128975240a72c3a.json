{"ast":null,"code":"// Fallback to old WebView where SFSafariViewController is not supported\nfunction WebView() {\n  this.tab = null;\n  this.handler = null;\n  this.open = this.open.bind(this);\n  this.handleFirstLoadEnd = this.handleFirstLoadEnd.bind(this);\n  this.handleLoadError = this.handleLoadError.bind(this);\n  this.handleExit = this.handleExit.bind(this);\n  this.clearEvents = this.clearEvents.bind(this);\n  this.close = this.close.bind(this);\n}\n\nWebView.prototype.open = function (url, handler) {\n  var browser = window.cordova.InAppBrowser;\n  var tab = browser.open(url, '_blank');\n  tab.addEventListener('loadstop', this.handleFirstLoadEnd);\n  tab.addEventListener('loaderror', this.handleLoadError);\n  tab.addEventListener('exit', this.handleExit);\n  this.tab = tab;\n  this.handler = handler;\n};\n\nWebView.prototype.handleFirstLoadEnd = function () {\n  this.handler(null, {\n    event: 'loaded'\n  });\n};\n\nWebView.prototype.handleLoadError = function (e) {\n  this.clearEvents();\n  this.handler(e, null);\n};\n\nWebView.prototype.handleExit = function () {\n  this.clearEvents();\n  this.handler(null, {\n    event: 'closed'\n  });\n};\n\nWebView.prototype.clearEvents = function () {\n  if (this.tab.null) {\n    return;\n  }\n\n  this.tab.removeEventListener('loaderror', this.handleLoadError);\n  this.tab.removeEventListener('loadstop', this.handleFirstLoadEnd);\n  this.tab.removeEventListener('exit', this.handleExit);\n};\n\nWebView.prototype.close = function () {\n  if (this.tab != null) {\n    this.tab.close();\n  }\n\n  this.clearEvents();\n  this.tab = null;\n  this.handler = null;\n};\n\nmodule.exports = WebView;","map":{"version":3,"sources":["C:/Users/Fernando Martinez/Documents/Programacion/SignWriter/Frontend JD/node_modules/@auth0/cordova/src/agent/webview.js"],"names":["WebView","tab","handler","open","bind","handleFirstLoadEnd","handleLoadError","handleExit","clearEvents","close","prototype","url","browser","window","cordova","InAppBrowser","addEventListener","event","e","null","removeEventListener","module","exports"],"mappings":"AAAA;AACA,SAASA,OAAT,GAAmB;AACjB,OAAKC,GAAL,GAAW,IAAX;AACA,OAAKC,OAAL,GAAe,IAAf;AACA,OAAKC,IAAL,GAAY,KAAKA,IAAL,CAAUC,IAAV,CAAe,IAAf,CAAZ;AACA,OAAKC,kBAAL,GAA0B,KAAKA,kBAAL,CAAwBD,IAAxB,CAA6B,IAA7B,CAA1B;AACA,OAAKE,eAAL,GAAuB,KAAKA,eAAL,CAAqBF,IAArB,CAA0B,IAA1B,CAAvB;AACA,OAAKG,UAAL,GAAkB,KAAKA,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,CAAlB;AACA,OAAKI,WAAL,GAAmB,KAAKA,WAAL,CAAiBJ,IAAjB,CAAsB,IAAtB,CAAnB;AACA,OAAKK,KAAL,GAAa,KAAKA,KAAL,CAAWL,IAAX,CAAgB,IAAhB,CAAb;AACD;;AAEDJ,OAAO,CAACU,SAAR,CAAkBP,IAAlB,GAAyB,UAAUQ,GAAV,EAAeT,OAAf,EAAwB;AAC/C,MAAIU,OAAO,GAAGC,MAAM,CAACC,OAAP,CAAeC,YAA7B;AACA,MAAId,GAAG,GAAGW,OAAO,CAACT,IAAR,CAAaQ,GAAb,EAAkB,QAAlB,CAAV;AAEAV,EAAAA,GAAG,CAACe,gBAAJ,CAAqB,UAArB,EAAiC,KAAKX,kBAAtC;AACAJ,EAAAA,GAAG,CAACe,gBAAJ,CAAqB,WAArB,EAAkC,KAAKV,eAAvC;AACAL,EAAAA,GAAG,CAACe,gBAAJ,CAAqB,MAArB,EAA6B,KAAKT,UAAlC;AACA,OAAKN,GAAL,GAAWA,GAAX;AACA,OAAKC,OAAL,GAAeA,OAAf;AACD,CATD;;AAWAF,OAAO,CAACU,SAAR,CAAkBL,kBAAlB,GAAuC,YAAY;AACjD,OAAKH,OAAL,CAAa,IAAb,EAAmB;AAAEe,IAAAA,KAAK,EAAE;AAAT,GAAnB;AACD,CAFD;;AAIAjB,OAAO,CAACU,SAAR,CAAkBJ,eAAlB,GAAoC,UAAUY,CAAV,EAAa;AAC/C,OAAKV,WAAL;AACA,OAAKN,OAAL,CAAagB,CAAb,EAAgB,IAAhB;AACD,CAHD;;AAKAlB,OAAO,CAACU,SAAR,CAAkBH,UAAlB,GAA+B,YAAY;AACzC,OAAKC,WAAL;AACA,OAAKN,OAAL,CAAa,IAAb,EAAmB;AAAEe,IAAAA,KAAK,EAAE;AAAT,GAAnB;AACD,CAHD;;AAKAjB,OAAO,CAACU,SAAR,CAAkBF,WAAlB,GAAgC,YAAY;AAC1C,MAAI,KAAKP,GAAL,CAASkB,IAAb,EAAmB;AACjB;AACD;;AACD,OAAKlB,GAAL,CAASmB,mBAAT,CAA6B,WAA7B,EAA0C,KAAKd,eAA/C;AACA,OAAKL,GAAL,CAASmB,mBAAT,CAA6B,UAA7B,EAAyC,KAAKf,kBAA9C;AACA,OAAKJ,GAAL,CAASmB,mBAAT,CAA6B,MAA7B,EAAqC,KAAKb,UAA1C;AACD,CAPD;;AASAP,OAAO,CAACU,SAAR,CAAkBD,KAAlB,GAA0B,YAAY;AACpC,MAAI,KAAKR,GAAL,IAAY,IAAhB,EAAsB;AACpB,SAAKA,GAAL,CAASQ,KAAT;AACD;;AACD,OAAKD,WAAL;AACA,OAAKP,GAAL,GAAW,IAAX;AACA,OAAKC,OAAL,GAAe,IAAf;AACD,CAPD;;AAUAmB,MAAM,CAACC,OAAP,GAAiBtB,OAAjB","sourcesContent":["// Fallback to old WebView where SFSafariViewController is not supported\nfunction WebView() {\n  this.tab = null;\n  this.handler = null;\n  this.open = this.open.bind(this);\n  this.handleFirstLoadEnd = this.handleFirstLoadEnd.bind(this);\n  this.handleLoadError = this.handleLoadError.bind(this);\n  this.handleExit = this.handleExit.bind(this);\n  this.clearEvents = this.clearEvents.bind(this);\n  this.close = this.close.bind(this);\n}\n\nWebView.prototype.open = function (url, handler) {\n  var browser = window.cordova.InAppBrowser;\n  var tab = browser.open(url, '_blank');\n\n  tab.addEventListener('loadstop', this.handleFirstLoadEnd);\n  tab.addEventListener('loaderror', this.handleLoadError);\n  tab.addEventListener('exit', this.handleExit);\n  this.tab = tab;\n  this.handler = handler;\n};\n\nWebView.prototype.handleFirstLoadEnd = function () {\n  this.handler(null, { event: 'loaded' });\n};\n\nWebView.prototype.handleLoadError = function (e) {\n  this.clearEvents();\n  this.handler(e, null);\n};\n\nWebView.prototype.handleExit = function () {\n  this.clearEvents();\n  this.handler(null, { event: 'closed' });\n};\n\nWebView.prototype.clearEvents = function () {\n  if (this.tab.null) {\n    return;\n  }\n  this.tab.removeEventListener('loaderror', this.handleLoadError);\n  this.tab.removeEventListener('loadstop', this.handleFirstLoadEnd);\n  this.tab.removeEventListener('exit', this.handleExit);\n};\n\nWebView.prototype.close = function () {\n  if (this.tab != null) {\n    this.tab.close();\n  }\n  this.clearEvents();\n  this.tab = null;\n  this.handler = null;\n};\n\n\nmodule.exports = WebView;\n"]},"metadata":{},"sourceType":"script"}
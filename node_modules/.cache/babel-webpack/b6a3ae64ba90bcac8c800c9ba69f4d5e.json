{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Fernando Martinez/Documents/Programacion/SignWriter/Frontend JD/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { StorageService } from '../storage.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../storage.service\";\nexport class TrialService {\n  constructor(storage) {\n    this.storage = storage;\n  }\n\n  GetTrialDaysLeft(email) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const trialLength = 15;\n      const trialStartDate = yield _this.storage.GetTrialStartDate(email);\n      let daysLeft;\n\n      if (trialStartDate != null) {\n        const diff = Math.abs(new Date().getTime() - trialStartDate.getTime());\n        daysLeft = trialLength - Math.ceil(diff / (1000 * 3600 * 24)) + 1;\n      }\n\n      return trialStartDate != null && daysLeft > 0 ? daysLeft : 0;\n    })();\n  }\n\n}\n\nTrialService.ɵfac = function TrialService_Factory(t) {\n  return new (t || TrialService)(i0.ɵɵinject(i1.StorageService));\n};\n\nTrialService.ɵprov = i0.ɵɵdefineInjectable({\n  token: TrialService,\n  factory: TrialService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["C:\\Users\\Fernando Martinez\\Documents\\Programacion\\SignWriter\\Frontend JD\\src\\app\\services\\trial.service.ts"],"names":[],"mappings":";AACA,SAAS,cAAT,QAA+B,oBAA/B;;;AAKA,OAAM,MAAO,YAAP,CAAmB;AACvB,EAAA,WAAA,CACU,OADV,EACiC;AAAvB,SAAA,OAAA,GAAA,OAAA;AACL;;AAEE,EAAA,gBAAN,CAAuB,KAAvB,EAAoC;AAAA;;AAAA;AACnC,YAAM,WAAW,GAAG,EAApB;AACA,YAAM,cAAc,SAAe,KAAI,CAAC,OAAL,CAAa,iBAAb,CAA+B,KAA/B,CAAnC;AACA,UAAI,QAAJ;;AACA,UAAI,cAAc,IAAI,IAAtB,EAA4B;AAC1B,cAAM,IAAI,GAAG,IAAI,CAAC,GAAL,CAAS,IAAI,IAAJ,GAAW,OAAX,KAAuB,cAAc,CAAC,OAAf,EAAhC,CAAb;AACA,QAAA,QAAQ,GAAG,WAAW,GAAG,IAAI,CAAC,IAAL,CAAU,IAAI,IAAI,OAAO,IAAP,GAAc,EAAlB,CAAd,CAAd,GAAqD,CAAhE;AACD;;AACD,aAAQ,cAAc,IAAI,IAAlB,IAA0B,QAAQ,GAAG,CAAtC,GAA2C,QAA3C,GAAsD,CAA7D;AARmC;AASpC;;AAdsB;;;mBAAZ,Y,EAAY,EAAA,CAAA,QAAA,CAAA,EAAA,CAAA,cAAA,C;AAAA,C;;;SAAZ,Y;AAAY,EAAA,OAAA,EAAZ,YAAY,CAAA,I;AAAA,EAAA,UAAA,EAFX","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { StorageService } from '../storage.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class TrialService {\r\n  constructor(\r\n    private storage: StorageService,\r\n  ) { }\r\n\r\n   async GetTrialDaysLeft(email: string): Promise<number> {\r\n    const trialLength = 15;\r\n    const trialStartDate: Date = await this.storage.GetTrialStartDate(email);\r\n    let daysLeft: number;\r\n    if (trialStartDate != null) {\r\n      const diff = Math.abs(new Date().getTime() - trialStartDate.getTime());\r\n      daysLeft = trialLength - Math.ceil(diff / (1000 * 3600 * 24)) + 1;\r\n    }\r\n    return (trialStartDate != null && daysLeft > 0) ? daysLeft : 0;\r\n  }\r\n}\r\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}
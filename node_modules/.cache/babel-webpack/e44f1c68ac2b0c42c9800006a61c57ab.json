{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Fernando Martinez/Documents/Programacion/SignWriter/Frontend JD/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { SentryService } from './../sentry.service';\nimport { SubscriptionService } from './../services/subscription.service';\nimport { SettingsService } from './../settings.service';\nimport { Router } from '@angular/router';\nimport { ElementRef } from '@angular/core';\nimport { fromEvent } from 'rxjs';\nimport { map, debounceTime, distinctUntilChanged } from 'rxjs/operators';\nimport { ModalController } from '@ionic/angular';\nimport { ChooseSignPage } from '../choose-sign/choose-sign.page';\nimport { Lane } from '../signs-lookup.service';\nimport { DocumentService } from '../document.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"../document.service\";\nimport * as i3 from \"./../settings.service\";\nimport * as i4 from \"./../services/subscription.service\";\nimport * as i5 from \"./../sentry.service\";\nimport * as i6 from \"@angular/router\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"@ngx-translate/core\";\nimport * as i9 from \"../safe-html.pipe\";\nconst _c0 = [\"searchRef\"];\nconst _c1 = [\"content\"];\n\nfunction EditPage_ion_button_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-button\", 10);\n    i0.ɵɵlistener(\"click\", function EditPage_ion_button_16_Template_ion_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const item_r4 = ctx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.addWord(item_r4.gloss);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r4.gloss, \" \");\n  }\n}\n\nfunction EditPage_ion_item_20_ion_badge_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-badge\", 26);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const found_r7 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(found_r7.totalmatches);\n  }\n}\n\nfunction EditPage_ion_item_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-item\");\n    i0.ɵɵelementStart(1, \"ion-grid\");\n    i0.ɵɵelementStart(2, \"ion-row\", 11);\n    i0.ɵɵelementStart(3, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function EditPage_ion_item_20_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const i_r8 = ctx.index;\n      const ctx_r11 = i0.ɵɵnextContext();\n      return ctx_r11.replace(i_r8);\n    });\n    i0.ɵɵelementStart(4, \"div\", 13);\n    i0.ɵɵelementStart(5, \"div\", 14);\n    i0.ɵɵelement(6, \"span\", 15);\n    i0.ɵɵpipe(7, \"safeHtml\");\n    i0.ɵɵelementStart(8, \"ion-grid\");\n    i0.ɵɵelementStart(9, \"ion-row\");\n    i0.ɵɵelementStart(10, \"ion-col\", 16);\n    i0.ɵɵelementStart(11, \"p\");\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"ion-col\", 17);\n    i0.ɵɵtemplate(15, EditPage_ion_item_20_ion_badge_15_Template, 2, 1, \"ion-badge\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"ion-row\", 11);\n    i0.ɵɵelementStart(17, \"div\", 19);\n    i0.ɵɵelementStart(18, \"input\", 20);\n    i0.ɵɵlistener(\"change\", function EditPage_ion_item_20_Template_input_change_18_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const found_r7 = ctx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext();\n      return found_r7.lane = ctx_r13.Lane.Left;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(19, \"label\", 21);\n    i0.ɵɵelementStart(20, \"input\", 22);\n    i0.ɵɵlistener(\"change\", function EditPage_ion_item_20_Template_input_change_20_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const found_r7 = ctx.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext();\n      return found_r7.lane = ctx_r14.Lane.Middle;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(21, \"label\", 23);\n    i0.ɵɵelementStart(22, \"input\", 24);\n    i0.ɵɵlistener(\"change\", function EditPage_ion_item_20_Template_input_change_22_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const found_r7 = ctx.$implicit;\n      const ctx_r15 = i0.ɵɵnextContext();\n      return found_r7.lane = ctx_r15.Lane.Right;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(23, \"label\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const found_r7 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵstyleProp(\"background-color\", found_r7.color);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"className\", ctx_r3.laneStyle(found_r7.lane));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"innerHTML\", i0.ɵɵpipeBind1(7, 18, found_r7.svg), i0.ɵɵsanitizeHtml);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", !found_r7.sign ? i0.ɵɵpipeBind1(13, 20, \" sign not found\") : found_r7.sign.gloss, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", found_r7.totalmatches > 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"\", found_r7.id, \"-left\");\n    i0.ɵɵpropertyInterpolate1(\"name\", \"name\", found_r7.id, \"\");\n    i0.ɵɵproperty(\"checked\", ctx_r3.Lane.Left === found_r7.lane);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"for\", \"\", found_r7.id, \"-left\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"\", found_r7.id, \"-middle\");\n    i0.ɵɵpropertyInterpolate1(\"name\", \"name\", found_r7.id, \"\");\n    i0.ɵɵproperty(\"checked\", ctx_r3.Lane.Middle === found_r7.lane);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"for\", \"\", found_r7.id, \"-middle\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"\", found_r7.id, \"-right\");\n    i0.ɵɵpropertyInterpolate1(\"name\", \"name\", found_r7.id, \"\");\n    i0.ɵɵproperty(\"checked\", ctx_r3.Lane.Right === found_r7.lane);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"for\", \"\", found_r7.id, \"-right\");\n  }\n}\n\nexport class EditPage {\n  constructor(modalController, documentService, settingsService, subscriptionService, sentry, router) {\n    this.modalController = modalController;\n    this.documentService = documentService;\n    this.settingsService = settingsService;\n    this.subscriptionService = subscriptionService;\n    this.sentry = sentry;\n    this.router = router;\n    this.Lane = Lane;\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.subscriptionService.CanUse();\n\n      _this.editedDocument = {\n        editedsigns: []\n      };\n      const isFirstTime = yield _this.settingsService.getFirstTime();\n\n      if (isFirstTime == null) {\n        return _this.router.navigateByUrl('/settings');\n      }\n\n      yield _this.documentService.loadSigns();\n\n      _this.documentService.clearDocument();\n\n      _this.showDocument(_this.documentService.getDocument());\n    })();\n  }\n\n  ionViewWillEnter() {\n    this.searchRef.nativeElement.value = this.documentService.getSearchSentence();\n    this.showDocument(this.documentService.getDocument());\n  }\n\n  ngAfterViewInit() {\n    fromEvent(this.searchRef.nativeElement, 'keyup').pipe(map(evt => evt.target.value), debounceTime(100), distinctUntilChanged()) // subscription\n    .subscribe(text => {\n      if (text && text.includes('  ')) {\n        this.searchRef.nativeElement.value = this.searchRef.nativeElement.value.replace('  ', '-');\n        text = text.replace('  ', '-');\n      }\n\n      this.showAvailableWords(text);\n      this.documentService.searchFrase(text);\n      this.showDocument(this.documentService.getDocument());\n      this.scrollToBottom();\n    });\n  }\n\n  showAvailableWords(text) {\n    this.matchingWords = this.documentService.showAvailableWords(text);\n  }\n\n  showDocument(document) {\n    this.editedDocument = {\n      editedsigns: document.signs\n    };\n  }\n\n  trackFound(index, foundSign) {\n    return foundSign ? foundSign.id : undefined;\n  }\n\n  addWord(word) {\n    const sentence = this.documentService.getSearchSentence();\n    let sentenceSplit = sentence.split(' ').filter(x => x !== '' && x !== ' ');\n    sentenceSplit = sentenceSplit.slice(0, -1);\n    const allExceptLast = sentenceSplit.join(' ');\n    this.documentService.searchFrase(allExceptLast + ' ' + word);\n    this.searchRef.nativeElement.value = this.documentService.getSearchSentence();\n    this.showDocument(this.documentService.getDocument());\n    this.matchingWords = [];\n  }\n\n  accept() {\n    this.sentry.sentryMessage('Entered text : ' + this.documentService.getSearchSentence());\n    return this.router.navigateByUrl('/view');\n  }\n\n  replace(index) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      const searchWord = _this2.documentService.getSearchWord(index);\n\n      const modal = yield _this2.modalController.create({\n        component: ChooseSignPage,\n        componentProps: {\n          searchword: searchWord\n        }\n      });\n      yield modal.present();\n      const {\n        data\n      } = yield modal.onDidDismiss();\n\n      if (data) {\n        // Replace existing item in list\n        _this2.documentService.replaceElement(index, data.result);\n\n        _this2.showDocument(_this2.documentService.getDocument());\n\n        _this2.searchRef.nativeElement.value = _this2.documentService.getSearchSentence();\n      }\n    })();\n  }\n\n  scrollToBottom() {\n    setTimeout(() => {\n      this.content.scrollToBottom(200);\n    }, 50);\n  }\n\n  resetEntries() {}\n\n  laneStyle(lane) {\n    switch (lane) {\n      case Lane.Left:\n        return 'lane-left';\n\n      case Lane.Right:\n        return 'lane-right';\n\n      default:\n        return 'lane-middle';\n    }\n  }\n\n}\n\nEditPage.ɵfac = function EditPage_Factory(t) {\n  return new (t || EditPage)(i0.ɵɵdirectiveInject(i1.ModalController), i0.ɵɵdirectiveInject(i2.DocumentService), i0.ɵɵdirectiveInject(i3.SettingsService), i0.ɵɵdirectiveInject(i4.SubscriptionService), i0.ɵɵdirectiveInject(i5.SentryService), i0.ɵɵdirectiveInject(i6.Router));\n};\n\nEditPage.ɵcmp = i0.ɵɵdefineComponent({\n  type: EditPage,\n  selectors: [[\"app-edit\"]],\n  viewQuery: function EditPage_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 3, ElementRef);\n      i0.ɵɵviewQuery(_c1, 3);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.searchRef = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.content = _t.first);\n    }\n  },\n  decls: 27,\n  vars: 15,\n  consts: [[\"slot\", \"start\"], [3, \"placeholder\"], [\"searchRef\", \"\"], [2, \"display\", \"none\", 3, \"click\"], [\"style\", \"text-transform: none;\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"padding\", \"\", 1, \"vertical-center\"], [\"content\", \"\"], [4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"horizontal\", \"end\", \"slot\", \"fixed\", \"vertical\", \"bottom\"], [\"name\", \"caret-forward-circle-outline\", 2, \"zoom\", \"2\", 3, \"click\"], [2, \"text-transform\", \"none\", 3, \"click\"], [\"justify-content-center\", \"\"], [\"type\", \"button\", 1, \"editbutton\", 3, \"click\"], [3, \"className\"], [1, \"sign\"], [3, \"innerHTML\"], [\"size\", \"10\"], [\"size\", \"1\"], [\"color\", \"light\", 4, \"ngIf\"], [1, \"lane-selector\"], [\"type\", \"radio\", \"value\", \"left\", 3, \"id\", \"name\", \"checked\", \"change\"], [1, \"label-background\", \"left\", 3, \"for\"], [\"type\", \"radio\", \"value\", \"middle\", 3, \"id\", \"name\", \"checked\", \"change\"], [1, \"label-background\", \"middle\", 3, \"for\"], [\"type\", \"radio\", \"value\", \"right\", 3, \"id\", \"name\", \"checked\", \"change\"], [1, \"label-background\", \"right\", 3, \"for\"], [\"color\", \"light\"]],\n  template: function EditPage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\");\n      i0.ɵɵelementStart(1, \"ion-toolbar\");\n      i0.ɵɵelementStart(2, \"ion-buttons\", 0);\n      i0.ɵɵelement(3, \"ion-menu-button\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"ion-title\");\n      i0.ɵɵtext(5);\n      i0.ɵɵpipe(6, \"translate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"ion-item\");\n      i0.ɵɵelement(8, \"ion-textarea\", 1, 2);\n      i0.ɵɵpipe(10, \"translate\");\n      i0.ɵɵelementStart(11, \"ion-button\", 3);\n      i0.ɵɵlistener(\"click\", function EditPage_Template_ion_button_click_11_listener() {\n        return ctx.resetEntries();\n      });\n      i0.ɵɵtext(12);\n      i0.ɵɵpipe(13, \"translate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"ion-item\");\n      i0.ɵɵelementStart(15, \"div\");\n      i0.ɵɵtemplate(16, EditPage_ion_button_16_Template, 2, 1, \"ion-button\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"ion-content\", 5, 6);\n      i0.ɵɵelementStart(19, \"ion-list\");\n      i0.ɵɵtemplate(20, EditPage_ion_item_20_Template, 24, 22, \"ion-item\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"ion-fab\", 8);\n      i0.ɵɵelementStart(22, \"ion-label\");\n      i0.ɵɵtext(23);\n      i0.ɵɵpipe(24, \"translate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"ion-fab-button\");\n      i0.ɵɵelementStart(26, \"ion-icon\", 9);\n      i0.ɵɵlistener(\"click\", function EditPage_Template_ion_icon_click_26_listener() {\n        return ctx.accept();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 7, \"Edit\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(10, 9, \"Enter sentence\"));\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(13, 11, \"Reset\"), \" \");\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.matchingWords);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.editedDocument.editedsigns)(\"ngForTrackBy\", ctx.trackFound);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(24, 13, \"Next\"));\n    }\n  },\n  directives: [i1.IonHeader, i1.IonToolbar, i1.IonButtons, i1.IonMenuButton, i1.IonTitle, i1.IonItem, i1.IonTextarea, i1.TextValueAccessor, i1.IonButton, i7.NgForOf, i1.IonContent, i1.IonList, i1.IonFab, i1.IonLabel, i1.IonFabButton, i1.IonIcon, i1.IonGrid, i1.IonRow, i1.IonCol, i7.NgIf, i1.IonBadge],\n  pipes: [i8.TranslatePipe, i9.SafeHtmlPipe],\n  styles: [\".sign[_ngcontent-%COMP%] {\\n  padding: 0;\\n}\\n\\n.editbutton[_ngcontent-%COMP%] {\\n  margin: 5px;\\n}\\n\\n.lane-selector[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  margin: 0;\\n  padding: 0;\\n  -webkit-appearance: none;\\n  -moz-appearance: none;\\n  appearance: none;\\n}\\n\\n.left[_ngcontent-%COMP%] {\\n  background-image: url('Left.png');\\n}\\n\\n.middle[_ngcontent-%COMP%] {\\n  background-image: url('Center.png');\\n}\\n\\n.right[_ngcontent-%COMP%] {\\n  background-image: url('Right.png');\\n}\\n\\n.lane-selector[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked    + label[_ngcontent-%COMP%] {\\n  -moz-filter: brightness(1.2) grayscale(0.5) opacity(0.9);\\n  filter: brightness(1.2) grayscale(0.5) opacity(0.9);\\n  background-color: #397ac4;\\n}\\n\\n.lane-selector[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:not(:checked)    + label[_ngcontent-%COMP%] {\\n  -moz-filter: brightness(1.8) grayscale(1) opacity(0.7);\\n  filter: brightness(1.8) grayscale(1) opacity(0.7);\\n}\\n\\n.label-background[_ngcontent-%COMP%] {\\n  cursor: pointer;\\n  background-size: contain;\\n  background-position: center;\\n  background-repeat: no-repeat;\\n  display: inline-block;\\n  margin: 0 2px 0 2px;\\n  width: 45px;\\n  height: 45px;\\n  transition: all 100ms ease-in;\\n}\\n\\n.lane-left[_ngcontent-%COMP%] {\\n  padding-right: 40px;\\n}\\n\\n.lane-middle[_ngcontent-%COMP%] {\\n  padding-left: 20px;\\n  padding-right: 20px;\\n}\\n\\n.lane-right[_ngcontent-%COMP%] {\\n  padding-left: 40px;\\n}\\n\\n.item-text-center[_ngcontent-%COMP%] {\\n  display: -moz-flex;\\n  display: flex;\\n  -moz-align-items: center;\\n  align-items: center;\\n  position: absolute;\\n  top: 0;\\n  height: 100%;\\n}\\n\\n.vertical-center[_ngcontent-%COMP%]   .fixed-content[_ngcontent-%COMP%], .vertical-center[_ngcontent-%COMP%]   .scroll-content[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.vertical-center[_ngcontent-%COMP%]   .fixed-content[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%], .vertical-center[_ngcontent-%COMP%]   .scroll-content[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%] {\\n  max-width: 300px;\\n  width: 100%;\\n  margin: auto;\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXGVkaXQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUksVUFBQTtBQUFKOztBQUdBO0VBQ0ksV0FBQTtBQUFKOztBQUdBO0VBQ0ksU0FBQTtFQUNBLFVBQUE7RUFDQSx3QkFBQTtFQUNBLHFCQUFBO0VBQ0EsZ0JBQUE7QUFBSjs7QUFHQTtFQUNJLGlDQUFBO0FBQUo7O0FBR0E7RUFDSSxtQ0FBQTtBQUFKOztBQUdBO0VBQ0ksa0NBQUE7QUFBSjs7QUFHQTtFQUVJLHdEQUFBO0VBQ0EsbURBQUE7RUFDQSx5QkFBQTtBQUFKOztBQUdBO0VBRUksc0RBQUE7RUFDQSxpREFBQTtBQUFKOztBQUdBO0VBQ0ksZUFBQTtFQUNBLHdCQUFBO0VBQ0EsMkJBQUE7RUFDQSw0QkFBQTtFQUNBLHFCQUFBO0VBQ0EsbUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUdBLDZCQUFBO0FBQUo7O0FBR0E7RUFDRSxtQkFBQTtBQUFGOztBQUdBO0VBQ0Usa0JBQUE7RUFDQSxtQkFBQTtBQUFGOztBQUdBO0VBQ0Usa0JBQUE7QUFBRjs7QUFHQTtFQUtJLGtCQUFBO0VBRUEsYUFBQTtFQUlBLHdCQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxZQUFBO0FBREo7O0FBS0U7O0VBRUksYUFBQTtFQUNBLG1CQUFBO0FBRk47O0FBSU07O0VBQ0ksZ0JBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0FBRFYiLCJmaWxlIjoiZWRpdC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuc2lnbiB7XHJcbiAgIFxyXG4gICAgcGFkZGluZzogMDtcclxufVxyXG5cclxuLmVkaXRidXR0b24ge1xyXG4gICAgbWFyZ2luOiA1cHg7XHJcbn1cclxuXHJcbi5sYW5lLXNlbGVjdG9yIGlucHV0IHtcclxuICAgIG1hcmdpbjogMDtcclxuICAgIHBhZGRpbmc6IDA7XHJcbiAgICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XHJcbiAgICAtbW96LWFwcGVhcmFuY2U6IG5vbmU7XHJcbiAgICBhcHBlYXJhbmNlOiBub25lO1xyXG59XHJcblxyXG4ubGVmdCB7XHJcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJy4uLy4uL2Fzc2V0cy9pbWcvTGVmdC5wbmcnKTtcclxufVxyXG5cclxuLm1pZGRsZSB7XHJcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJy4uLy4uL2Fzc2V0cy9pbWcvQ2VudGVyLnBuZycpO1xyXG59XHJcblxyXG4ucmlnaHQge1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcuLi8uLi9hc3NldHMvaW1nL1JpZ2h0LnBuZycpO1xyXG59XHJcblxyXG4ubGFuZS1zZWxlY3RvciBpbnB1dFt0eXBlPVwicmFkaW9cIl06Y2hlY2tlZCtsYWJlbCB7XHJcbiAgICAtd2Via2l0LWZpbHRlcjogYnJpZ2h0bmVzcygxLjIpIGdyYXlzY2FsZSguNSkgb3BhY2l0eSguOSk7XHJcbiAgICAtbW96LWZpbHRlcjogYnJpZ2h0bmVzcygxLjIpIGdyYXlzY2FsZSguNSkgb3BhY2l0eSguOSk7XHJcbiAgICBmaWx0ZXI6IGJyaWdodG5lc3MoMS4yKSBncmF5c2NhbGUoLjUpIG9wYWNpdHkoLjkpO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDU3LCAxMjIsIDE5Nik7XHJcbn1cclxuXHJcbi5sYW5lLXNlbGVjdG9yIGlucHV0W3R5cGU9XCJyYWRpb1wiXTpub3QoOmNoZWNrZWQpK2xhYmVsIHtcclxuICAgIC13ZWJraXQtZmlsdGVyOiBicmlnaHRuZXNzKDEuOCkgZ3JheXNjYWxlKDEpIG9wYWNpdHkoLjcpO1xyXG4gICAgLW1vei1maWx0ZXI6IGJyaWdodG5lc3MoMS44KSBncmF5c2NhbGUoMSkgb3BhY2l0eSguNyk7XHJcbiAgICBmaWx0ZXI6IGJyaWdodG5lc3MoMS44KSBncmF5c2NhbGUoMSkgb3BhY2l0eSguNyk7XHJcbn1cclxuXHJcbi5sYWJlbC1iYWNrZ3JvdW5kIHtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIGJhY2tncm91bmQtc2l6ZTogY29udGFpbjtcclxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjsgXHJcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgbWFyZ2luOiAwIDJweCAwIDJweDtcclxuICAgIHdpZHRoOiA0NXB4O1xyXG4gICAgaGVpZ2h0OiA0NXB4O1xyXG4gICAgLXdlYmtpdC10cmFuc2l0aW9uOiBhbGwgMTAwbXMgZWFzZS1pbjtcclxuICAgIC1tb3otdHJhbnNpdGlvbjogYWxsIDEwMG1zIGVhc2UtaW47XHJcbiAgICB0cmFuc2l0aW9uOiBhbGwgMTAwbXMgZWFzZS1pbjtcclxufVxyXG5cclxuLmxhbmUtbGVmdCB7XHJcbiAgcGFkZGluZy1yaWdodDogNDBweDtcclxufSBcclxuXHJcbi5sYW5lLW1pZGRsZSB7XHJcbiAgcGFkZGluZy1sZWZ0OiAyMHB4O1xyXG4gIHBhZGRpbmctcmlnaHQ6IDIwcHg7XHJcbn1cclxuXHJcbi5sYW5lLXJpZ2h0IHtcclxuICBwYWRkaW5nLWxlZnQ6IDQwcHg7XHJcbn1cclxuXHJcbi5pdGVtLXRleHQtY2VudGVyXHJcbntcclxuICAgIGRpc3BsYXk6IC13ZWJraXQtYm94O1xyXG4gICAgZGlzcGxheTogLXdlYmtpdC1mbGV4O1xyXG4gICAgZGlzcGxheTogLW1vei1ib3g7XHJcbiAgICBkaXNwbGF5OiAtbW96LWZsZXg7XHJcbiAgICBkaXNwbGF5OiAtbXMtZmxleGJveDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAtd2Via2l0LWJveC1hbGlnbjogY2VudGVyO1xyXG4gICAgLW1zLWZsZXgtYWxpZ246IGNlbnRlcjtcclxuICAgIC13ZWJraXQtYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIC1tb3otYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDA7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuXHJcbi52ZXJ0aWNhbC1jZW50ZXIge1xyXG4gIC5maXhlZC1jb250ZW50LFxyXG4gIC5zY3JvbGwtY29udGVudCB7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcblxyXG4gICAgICBpb24tbGlzdCB7XHJcbiAgICAgICAgICBtYXgtd2lkdGg6IDMwMHB4OyBcclxuICAgICAgICAgIHdpZHRoOjEwMCU7IFxyXG4gICAgICAgICAgbWFyZ2luOiBhdXRvOyBcclxuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgfVxyXG4gIH1cclxufSJdfQ== */\"]\n});","map":{"version":3,"sources":["C:\\Users\\Fernando Martinez\\Documents\\Programacion\\SignWriter\\Frontend JD\\src\\app\\edit\\edit.page.ts","C:\\Users\\Fernando Martinez\\Documents\\Programacion\\SignWriter\\Frontend JD\\src\\app\\edit\\edit.page.html"],"names":[],"mappings":"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","sourcesContent":["import { SentryService } from './../sentry.service';\r\nimport { SubscriptionService } from './../services/subscription.service';\r\nimport { SettingsService } from './../settings.service';\r\nimport { Router } from '@angular/router';\r\nimport {\r\n  Component,\r\n  OnInit,\r\n  ElementRef,\r\n  ViewChild,\r\n  AfterViewInit\r\n} from '@angular/core';\r\n\r\nimport { fromEvent } from 'rxjs';\r\nimport { map, debounceTime, distinctUntilChanged } from 'rxjs/operators';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { ChooseSignPage } from '../choose-sign/choose-sign.page';\r\nimport { FoundSign, Lane } from '../signs-lookup.service';\r\n\r\nimport { DocumentService, Document } from '../document.service';\r\n\r\ninterface EdittedDocument {\r\n  editedsigns: FoundSign[];\r\n}\r\n\r\n@Component({\r\n  selector: 'app-edit',\r\n  templateUrl: './edit.page.html',\r\n  styleUrls: ['./edit.page.scss']\r\n})\r\nexport class EditPage implements OnInit, AfterViewInit {\r\n  Lane = Lane;\r\n  public editedDocument: EdittedDocument;\r\n  public matchingWords: { gloss: string, normalized: string }[];\r\n\r\n  @ViewChild('searchRef', { read: ElementRef, static: true }) searchRef: ElementRef;\r\n  @ViewChild('content', { static: true }) private content: any;\r\n\r\n  constructor(\r\n    public modalController: ModalController,\r\n    private documentService: DocumentService,\r\n    private settingsService: SettingsService,\r\n    private subscriptionService: SubscriptionService,\r\n    private sentry: SentryService,\r\n    private router: Router\r\n  ) { }\r\n\r\n  async ngOnInit() {\r\n    this.subscriptionService.CanUse();\r\n    this.editedDocument = {\r\n      editedsigns: []\r\n    };\r\n\r\n    const isFirstTime = await this.settingsService.getFirstTime();\r\n    if (isFirstTime == null) {\r\n      return this.router.navigateByUrl('/settings');\r\n    }\r\n    await this.documentService.loadSigns();\r\n    this.documentService.clearDocument();\r\n    this.showDocument(this.documentService.getDocument());\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.searchRef.nativeElement.value = this.documentService.getSearchSentence();\r\n    this.showDocument(this.documentService.getDocument());\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    fromEvent(this.searchRef.nativeElement, 'keyup')\r\n      .pipe(\r\n        map((evt: any) => evt.target.value),\r\n        debounceTime(100),\r\n        distinctUntilChanged()\r\n      )\r\n      // subscription\r\n      .subscribe((text: string) => {\r\n        if (text && text.includes('  ')) {\r\n          this.searchRef.nativeElement.value = this.searchRef.nativeElement.value.replace('  ', '-');\r\n          text = text.replace('  ', '-');\r\n        }\r\n        this.showAvailableWords(text);\r\n        this.documentService.searchFrase(text);\r\n        this.showDocument(this.documentService.getDocument());\r\n        this.scrollToBottom();\r\n      });\r\n  }\r\n\r\n  showAvailableWords(text) {\r\n    this.matchingWords = this.documentService.showAvailableWords(text);\r\n  }\r\n\r\n  showDocument(document: Document): void {\r\n    this.editedDocument = <EdittedDocument>{ editedsigns: document.signs };\r\n  }\r\n\r\n  trackFound(index, foundSign: FoundSign) {\r\n    return foundSign ? foundSign.id : undefined;\r\n  }\r\n\r\n  public addWord(word) {\r\n    const sentence = this.documentService.getSearchSentence();\r\n    let sentenceSplit = sentence.split(' ').filter(x => x !== '' && x !== ' ');\r\n    sentenceSplit = sentenceSplit.slice(0, -1);\r\n\r\n    const allExceptLast = sentenceSplit.join(' ');\r\n    this.documentService.searchFrase(allExceptLast + ' ' + word);\r\n    this.searchRef.nativeElement.value = this.documentService.getSearchSentence();\r\n    this.showDocument(this.documentService.getDocument());\r\n    this.matchingWords = [];\r\n  }\r\n\r\n  accept() {\r\n    this.sentry.sentryMessage('Entered text : ' + this.documentService.getSearchSentence());\r\n    return this.router.navigateByUrl('/view');\r\n  }\r\n\r\n  async replace(index: number) {\r\n    const searchWord: string = this.documentService.getSearchWord(index);\r\n    const modal = await this.modalController.create({\r\n      component: ChooseSignPage,\r\n      componentProps: {\r\n        searchword: searchWord\r\n      }\r\n    });\r\n\r\n    await modal.present();\r\n    const { data } = await modal.onDidDismiss();\r\n    if (data) {\r\n      // Replace existing item in list\r\n      this.documentService.replaceElement(index, data.result);\r\n      this.showDocument(this.documentService.getDocument());\r\n      this.searchRef.nativeElement.value = this.documentService.getSearchSentence();\r\n    }\r\n  }\r\n\r\n  scrollToBottom() {\r\n    setTimeout(() => {\r\n      this.content.scrollToBottom(200);\r\n    }, 50);\r\n  }\r\n\r\n  resetEntries() { }\r\n\r\n  laneStyle(lane: Lane) {\r\n    switch (lane) {\r\n      case (Lane.Left): return 'lane-left';\r\n      case (Lane.Right): return 'lane-right';\r\n      default: return 'lane-middle';\r\n    }\r\n  }\r\n}\r\n","<ion-header>\r\n  <ion-toolbar>\r\n    <ion-buttons slot=\"start\">\r\n      <ion-menu-button></ion-menu-button>\r\n    </ion-buttons>\r\n    <ion-title>{{'Edit' | translate}}</ion-title>\r\n  </ion-toolbar>\r\n\r\n  <ion-item>\r\n    <ion-textarea\r\n      #searchRef\r\n      placeholder=\"{{'Enter sentence' | translate}}\"\r\n    ></ion-textarea>\r\n    <ion-button style=\"display: none;\" (click)=\"resetEntries()\">\r\n      {{'Reset' | translate}}\r\n    </ion-button>\r\n  </ion-item>\r\n  <ion-item>\r\n    <div>\r\n      <ion-button\r\n        style=\"text-transform: none;\"\r\n        *ngFor=\"let item of matchingWords\"\r\n        (click)=\"addWord(item.gloss)\"\r\n      >\r\n        {{item.gloss}}\r\n      </ion-button>\r\n    </div>\r\n  </ion-item>\r\n</ion-header>\r\n\r\n<ion-content #content padding class=\"vertical-center\">\r\n  <ion-list>\r\n    <ion-item\r\n      *ngFor=\"let found of editedDocument.editedsigns; index as i; trackBy: trackFound \"\r\n    >\r\n      <ion-grid>\r\n        <ion-row justify-content-center>\r\n          <button\r\n            class=\"editbutton\"\r\n            [style.background-color]=\"found.color\"\r\n            (click)=\"replace(i)\"\r\n            type=\"button\"\r\n          >\r\n            <div [className]=\"laneStyle(found.lane)\">\r\n              <div class=\"sign\">\r\n                <span [innerHTML]=\"found.svg | safeHtml\"></span>\r\n                <ion-grid>\r\n                  <ion-row>\r\n                    <ion-col size=\"10\">\r\n                      <p>\r\n                        {{ (!found.sign ? (' sign not found' | translate) :\r\n                        found.sign.gloss ) }}\r\n                      </p>\r\n                    </ion-col>\r\n                    <ion-col size=\"1\">\r\n                      <ion-badge *ngIf=\"found.totalmatches > 1\" color=\"light\"\r\n                        >{{ found.totalmatches }}</ion-badge\r\n                      >\r\n                    </ion-col>\r\n                  </ion-row>\r\n                </ion-grid>\r\n              </div>\r\n            </div>\r\n          </button>\r\n        </ion-row>\r\n        <ion-row justify-content-center>\r\n          <div class=\"lane-selector\">\r\n            <input\r\n              id=\"{{found.id}}-left\"\r\n              type=\"radio\"\r\n              name=\"name{{found.id}}\"\r\n              value=\"left\"\r\n              [checked]=\"Lane.Left === found.lane\"\r\n              (change)=\"found.lane = Lane.Left\"\r\n            />\r\n            <label\r\n              class=\"label-background left\"\r\n              for=\"{{found.id}}-left\"\r\n            ></label>\r\n            <input\r\n              id=\"{{found.id}}-middle\"\r\n              type=\"radio\"\r\n              name=\"name{{found.id}}\"\r\n              value=\"middle\"\r\n              [checked]=\"Lane.Middle === found.lane\"\r\n              (change)=\"found.lane = Lane.Middle\"\r\n            />\r\n            <label\r\n              class=\"label-background middle\"\r\n              for=\"{{found.id}}-middle\"\r\n            ></label>\r\n            <input\r\n              id=\"{{found.id}}-right\"\r\n              type=\"radio\"\r\n              name=\"name{{found.id}}\"\r\n              value=\"right\"\r\n              [checked]=\"Lane.Right === found.lane\"\r\n              (change)=\"found.lane = Lane.Right\"\r\n            />\r\n            <label\r\n              class=\"label-background right\"\r\n              for=\"{{found.id}}-right\"\r\n            ></label>\r\n          </div>\r\n        </ion-row>\r\n      </ion-grid>\r\n    </ion-item>\r\n  </ion-list>\r\n\r\n  <ion-fab horizontal=\"end\" slot=\"fixed\" vertical=\"bottom\">\r\n    <ion-label>{{'Next' | translate}}</ion-label>\r\n    <ion-fab-button>\r\n      <ion-icon\r\n        (click)=\"accept()\"\r\n        name=\"caret-forward-circle-outline\"\r\n        style=\"zoom: 2;\"\r\n      ></ion-icon>\r\n    </ion-fab-button>\r\n  </ion-fab>\r\n</ion-content>\r\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}